{"version":3,"sources":["assets\\Scripts\\Common\\CanvasTouch.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Global from \"./Base/Global\";\r\nimport GlobalGamePlay from \"./Base/GlobalGamePlay\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\ndeclare const window: any;\r\n@ccclass\r\nexport default class CanvasTouch extends cc.Component {\r\n    @property(cc.String)\r\n    androidLink: String = \"\";\r\n    @property(cc.String)\r\n    iosLink: String = \"\";\r\n    @property(cc.String)\r\n    defaultLink: String = \"\";\r\n    isMouseDown: boolean = false;\r\n    protected start(): void {\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.TouchStart, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.TouchMove, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.TouchEnd, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.TouchEnd, this);\r\n    }\r\n    TouchStart(event) {\r\n        if (!Global.boolEndGame) {\r\n            if (GlobalGamePlay.Instance(GlobalGamePlay).gameplay.isCanStartGame) {\r\n                this.isMouseDown = true;\r\n                var mousePosition = event.getLocation();\r\n                mousePosition = this.node.convertToNodeSpaceAR(mousePosition);\r\n                Global.touchPos = mousePosition;\r\n            }\r\n        }\r\n        else {\r\n            this.openAdUrl();\r\n        }\r\n    }\r\n    TouchMove(event) {\r\n        if (this.isMouseDown) {\r\n            if (GlobalGamePlay.Instance(GlobalGamePlay).gameplay.isCanStartGame) {\r\n                var mousePosition = event.getLocation();\r\n                mousePosition = this.node.convertToNodeSpaceAR(mousePosition);\r\n                Global.touchPos = mousePosition;\r\n            }\r\n        }\r\n    }\r\n    TouchEnd(event) {\r\n        if (GlobalGamePlay.Instance(GlobalGamePlay).gameplay.isCanStartGame) {\r\n            this.isMouseDown = false;\r\n            var mousePosition = event.getLocation();\r\n            mousePosition = this.node.convertToNodeSpaceAR(mousePosition);\r\n            Global.touchPos = mousePosition;\r\n        }\r\n    }\r\n    openAdUrl() {\r\n        var clickTag = '';\r\n        window.androidLink = this.androidLink;\r\n        window.iosLink = this.iosLink;\r\n        window.defaultLink = this.defaultLink;\r\n        if (window.openAdUrl) {\r\n            window.openAdUrl();\r\n        } else {\r\n            window.open();\r\n        }\r\n    }\r\n}\r\n"]}