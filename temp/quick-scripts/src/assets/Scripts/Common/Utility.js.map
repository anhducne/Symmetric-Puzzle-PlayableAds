{"version":3,"sources":["assets\\Scripts\\Common\\Utility.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Singleton from \"./Singleton\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Utility extends Singleton<Utility> {\r\n    constructor() {\r\n        super();\r\n        Utility._instance = this;\r\n    }\r\n    static RandomRangeFloat(lower: number, upper: number) {\r\n        return Math.random() * (upper - lower) + lower;\r\n        //return Math.floor(Math.random() * (lower - lower)) + lower;\r\n    }\r\n    static RandomRangeInteger(lower: number, upper: number) {\r\n        return Math.round(Math.random() * (upper - lower) + lower);\r\n    }\r\n    static Distance(vec1: cc.Vec2, vec2: cc.Vec2) {\r\n        let Distance = Math.sqrt(Math.pow(vec1.x - vec2.x, 2) +\r\n            Math.pow(vec1.y - vec2.y, 2));\r\n        return Distance;\r\n    }\r\n    static CaculatorDuration(vec1: cc.Vec2, vec2: cc.Vec2, speed: number) {\r\n        let distance = this.Distance(vec1, vec2);\r\n        let duration = distance / speed;\r\n        return duration;\r\n    }\r\n    public static LookAt(startPos: cc.Vec3, endPos: cc.Vec3) {\r\n        const direction = endPos.sub(startPos);\r\n        const directionNormalized = direction.normalize();\r\n        const radianAngle = Math.atan2(directionNormalized.y, directionNormalized.x);\r\n        const angle = cc.misc.radiansToDegrees(radianAngle);\r\n\r\n        //return {\r\n        // direction: direction,\r\n        // directionNormalized: directionNormalized,\r\n        // radianAngle: radianAngle,\r\n        //angle: angle\r\n        //}\r\n        return angle;\r\n    }\r\n    static BetweenDegree(comVec: cc.Vec2, dirVec: cc.Vec2) {\r\n        let angleDegree = Math.atan2(dirVec.y - comVec.y, dirVec.x - comVec.x) * 180 / Math.PI;\r\n        return angleDegree - 90;\r\n    }\r\n    static CaculatorDegree(Target: cc.Vec2) {\r\n        var r = Math.atan2(Target.y, Target.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        return degree;\r\n    }\r\n    static ConvertPosToCanvasByNode(objectParent: cc.Node, objectChildren: cc.Node) {\r\n        var pos = cc.Canvas.instance.node.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(objectChildren.getPosition()));\r\n        return pos;\r\n    }\r\n    static ConvertPosToCanvasByVector(objectParent: cc.Node, vector: cc.Vec2) {\r\n        var pos = cc.Canvas.instance.node.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(vector));\r\n        return pos;\r\n    }\r\n    static ConvertPosToHigherParentByNode(objectParentHigher: cc.Node, objectParent: cc.Node, objectChildren: cc.Node) {\r\n        var pos = objectParentHigher.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(objectChildren.getPosition()));\r\n        return pos;\r\n    }\r\n    static ConvertPosToParentByVector(objectParentHigher: cc.Node, objectParent: cc.Node, vector: cc.Vec2) {\r\n        var pos = objectParentHigher.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(vector));\r\n        return pos;\r\n    }\r\n}\r\n"]}