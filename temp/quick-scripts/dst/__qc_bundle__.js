
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/Scripts/Common/AdManager');
require('./assets/Scripts/Common/Base/EnableEngine');
require('./assets/Scripts/Common/Base/Global');
require('./assets/Scripts/Common/Base/GlobalGamePlay');
require('./assets/Scripts/Common/CanvasResizer');
require('./assets/Scripts/Common/CanvasTouch');
require('./assets/Scripts/Common/DestroyVFX');
require('./assets/Scripts/Common/EnumDefine');
require('./assets/Scripts/Common/KeyEvent');
require('./assets/Scripts/Common/PlatformBtn');
require('./assets/Scripts/Common/Pool/BasePool');
require('./assets/Scripts/Common/Pool/PoolManager');
require('./assets/Scripts/Common/Singleton');
require('./assets/Scripts/Common/SoundManager');
require('./assets/Scripts/Common/Utility');
require('./assets/Scripts/Controller/JsonParser');
require('./assets/Scripts/Controller/ObjectCongrat');
require('./assets/Scripts/Controller/ObjectMove');
require('./assets/Scripts/Controller/ReadData');
require('./assets/Scripts/Manager/GameManager2');
require('./assets/SymmetricGamePlay/Scripts/DragRotate');
require('./assets/migration/use_v2.1-2.2.1_cc.Toggle_event');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.1-2.2.1_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '530b8Ca5xVH2oN0gu0ECam6', 'use_v2.1-2.2.1_cc.Toggle_event');
// migration/use_v2.1-2.2.1_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only used for projects compatible with the v2.1.0 ～ 2.2.1 version.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 ~ 2.2.1 版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */
if (cc.Toggle) {
  // Whether to trigger 'toggle' and 'checkEvents' events when modifying 'toggle.isChecked' in the code
  // 在代码中修改 'toggle.isChecked' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_isChecked = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbWlncmF0aW9uXFx1c2VfdjIuMS0yLjIuMV9jYy5Ub2dnbGVfZXZlbnQuanMiXSwibmFtZXMiOlsiY2MiLCJUb2dnbGUiLCJfdHJpZ2dlckV2ZW50SW5TY3JpcHRfaXNDaGVja2VkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7OztBQVlBLElBQUlBLEVBQUUsQ0FBQ0MsTUFBUCxFQUFlO0FBQ1g7QUFDQTtBQUNBRCxFQUFBQSxFQUFFLENBQUNDLE1BQUgsQ0FBVUMsK0JBQVYsR0FBNEMsSUFBNUM7QUFDSCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVGhpcyBzY3JpcHQgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgQ29jb3MgQ3JlYXRvciBhbmQgaXMgb25seSB1c2VkIGZvciBwcm9qZWN0cyBjb21wYXRpYmxlIHdpdGggdGhlIHYyLjEuMCDvvZ4gMi4yLjEgdmVyc2lvbi5cclxuICogWW91IGRvIG5vdCBuZWVkIHRvIG1hbnVhbGx5IGFkZCB0aGlzIHNjcmlwdCBpbiBhbnkgb3RoZXIgcHJvamVjdC5cclxuICogSWYgeW91IGRvbid0IHVzZSBjYy5Ub2dnbGUgaW4geW91ciBwcm9qZWN0LCB5b3UgY2FuIGRlbGV0ZSB0aGlzIHNjcmlwdCBkaXJlY3RseS5cclxuICogSWYgeW91ciBwcm9qZWN0IGlzIGhvc3RlZCBpbiBWQ1Mgc3VjaCBhcyBnaXQsIHN1Ym1pdCB0aGlzIHNjcmlwdCB0b2dldGhlci5cclxuICpcclxuICog5q2k6ISa5pys55SxIENvY29zIENyZWF0b3Ig6Ieq5Yqo55Sf5oiQ77yM5LuF55So5LqO5YW85a65IHYyLjEuMCB+IDIuMi4xIOeJiOacrOeahOW3peeoi++8jFxyXG4gKiDkvaDml6DpnIDlnKjku7vkvZXlhbblroPpobnnm67kuK3miYvliqjmt7vliqDmraTohJrmnKzjgIJcclxuICog5aaC5p6c5L2g55qE6aG555uu5Lit5rKh55So5YiwIFRvZ2dsZe+8jOWPr+ebtOaOpeWIoOmZpOivpeiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67mnInmiZjnrqHkuo4gZ2l0IOetieeJiOacrOW6k++8jOivt+WwhuatpOiEmuacrOS4gOW5tuS4iuS8oOOAglxyXG4gKi9cclxuXHJcbmlmIChjYy5Ub2dnbGUpIHtcclxuICAgIC8vIFdoZXRoZXIgdG8gdHJpZ2dlciAndG9nZ2xlJyBhbmQgJ2NoZWNrRXZlbnRzJyBldmVudHMgd2hlbiBtb2RpZnlpbmcgJ3RvZ2dsZS5pc0NoZWNrZWQnIGluIHRoZSBjb2RlXHJcbiAgICAvLyDlnKjku6PnoIHkuK3kv67mlLkgJ3RvZ2dsZS5pc0NoZWNrZWQnIOaXtuaYr+WQpuinpuWPkSAndG9nZ2xlJyDkuI4gJ2NoZWNrRXZlbnRzJyDkuovku7ZcclxuICAgIGNjLlRvZ2dsZS5fdHJpZ2dlckV2ZW50SW5TY3JpcHRfaXNDaGVja2VkID0gdHJ1ZTtcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Controller/ReadData.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '36f997/pFxJ0r68f4kWtPEU', 'ReadData');
// Scripts/Controller/ReadData.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Difficult;
(function (Difficult) {
    Difficult[Difficult["EASY"] = 0] = "EASY";
    Difficult[Difficult["NORMAL"] = 1] = "NORMAL";
    Difficult[Difficult["HARD"] = 2] = "HARD";
})(Difficult = exports.Difficult || (exports.Difficult = {}));
var SectionNotes = /** @class */ (function () {
    function SectionNotes() {
        this.timeStart = 0;
        this.pos = 0;
        this.length = 0;
    }
    SectionNotes = __decorate([
        ccclass('SectionNotes')
    ], SectionNotes);
    return SectionNotes;
}());
exports.SectionNotes = SectionNotes;
var Notes = /** @class */ (function () {
    function Notes() {
        this.typeOffSection = 0;
        this.lengthInSteps = 0;
        this.sectionNotes = [];
        this.mustHitSection = false;
        this.sectionData = [];
    }
    Notes = __decorate([
        ccclass('Notes')
    ], Notes);
    return Notes;
}());
exports.Notes = Notes;
var Song = /** @class */ (function () {
    function Song() {
        this.song = "";
        this.notes = [];
        this.needsVoices = false;
        this.speed = 0;
        this.bpm = 0;
    }
    Song = __decorate([
        ccclass('Song')
    ], Song);
    return Song;
}());
exports.Song = Song;
var SongData = /** @class */ (function () {
    function SongData() {
        this.song = null;
    }
    SongData = __decorate([
        ccclass('SongData')
    ], SongData);
    return SongData;
}());
exports.SongData = SongData;
var SongClip = /** @class */ (function () {
    function SongClip() {
        this.song = "";
        this.clipSong = null;
        this.clipVoice = null;
    }
    __decorate([
        property(cc.String)
    ], SongClip.prototype, "song", void 0);
    __decorate([
        property({
            type: cc.AudioClip
        })
    ], SongClip.prototype, "clipSong", void 0);
    __decorate([
        property({
            type: cc.AudioClip
        })
    ], SongClip.prototype, "clipVoice", void 0);
    SongClip = __decorate([
        ccclass('SongClip')
    ], SongClip);
    return SongClip;
}());
exports.SongClip = SongClip;
var ReadData = /** @class */ (function (_super) {
    __extends(ReadData, _super);
    function ReadData() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.asset = null;
        _this.songData = null;
        // @property([SongClip])
        // songAudio: SongClip[] = [];
        _this.timeStartIChoose = 0;
        _this.diff = Difficult.EASY;
        return _this;
    }
    // @property(cc.String)
    // pathData: string = "";
    // @property(cc.String)
    // pathSong: string = "";
    ReadData.prototype.GetSongData = function () {
        return this.songData.song;
    };
    ReadData.prototype.GetSongClip = function () {
    };
    ReadData.prototype.start = function () {
        this.GenerateSFX();
    };
    ReadData.prototype.GenerateSFX = function () {
        //let diff = Difficult.EASY;
        //let json = cc.sys.localStorage.getItem(this.pathData);
        //let song = JsonParser.parse<SongData>(this.pathData);
        //cc.log(song.song);
        // this.scheduleOnce(() => {
        //     cc.log(JSON.stringify(JsonParser.parse<SongData>(this.pathData)));
        // }, 1);
        // let person: Person = new Person();
        // person.id = 10;
        // person.name = "Hieu";
        // let json = JSON.stringify(person);
        // cc.log(json);
        //var url = cc.url.raw(this.pathData);
        //cc.loader.loadRes('24 2zavodila-hard', cc.JsonAsset, (err, res) => {
        //console.log("Load Json");
        //let json = JSON.stringify(res);
        //let song: SongData = Object.assign(new SongData(), JSON.parse(res.json));
        //cc.log(res.json);
        //});     
        //RenderData Json - Hieu Wilson 
        var songFromJson = this.asset.json["song"][0];
        var songDataFromJson = new SongData();
        songDataFromJson.song = Object.assign(new SongData(), songFromJson);
        songDataFromJson.song.song = songFromJson.song;
        songDataFromJson.song.notes = songFromJson.notes;
        songDataFromJson.song.needsVoices = songFromJson.needsVoices;
        songDataFromJson.song.speed = songFromJson.speed;
        songDataFromJson.song.bpm = songFromJson.bpm;
        for (var i = 0; i < songFromJson.notes.length; i++) {
            songDataFromJson.song.notes[i].sectionData = [];
            for (var j = 0; j < songFromJson.notes[i].sectionNotes.length; j++) {
                var section = new SectionNotes();
                section.timeStart = songDataFromJson.song.notes[i].sectionNotes[j][0] / 1000;
                section.pos = Math.round(songDataFromJson.song.notes[i].sectionNotes[j][1]);
                section.length = songDataFromJson.song.notes[i].sectionNotes[j][2];
                songDataFromJson.song.notes[i].sectionData.push(section);
            }
            songDataFromJson.song.notes[i].sectionData.sort(function (n1, n2) { return n1.timeStart - n2.timeStart; });
        }
        for (var i = 0; i < songDataFromJson.song.notes.length; i++) {
            for (var j = 0; j < songDataFromJson.song.notes[i].sectionData.length; j++) {
                if (songDataFromJson.song.notes[i].sectionData[j].timeStart < this.timeStartIChoose) {
                    songDataFromJson.song.notes[i].sectionData.splice(j);
                }
            }
        }
        for (var i = 0; i < songDataFromJson.song.notes.length; i++) {
            for (var j = 0; j < songDataFromJson.song.notes[i].sectionData.length; j++) {
                songDataFromJson.song.notes[i].sectionData[j].timeStart = songDataFromJson.song.notes[i].sectionData[j].timeStart - this.timeStartIChoose;
            }
        }
        for (var i = 0; i < songDataFromJson.song.notes.length; i++) {
            for (var j = 0; j < songDataFromJson.song.notes[i].sectionData.length; j++) {
                for (var k = j + 1; k < songDataFromJson.song.notes[i].sectionData.length - 1; k++) {
                    if (songDataFromJson.song.notes[i].sectionData[j].timeStart == songDataFromJson.song.notes[i].sectionData[k].timeStart
                        && songDataFromJson.song.notes[i].sectionData[j].pos != songDataFromJson.song.notes[i].sectionData[k].pos) {
                        songDataFromJson.song.notes[i].sectionData[k].pos = songDataFromJson.song.notes[i].sectionData[j].pos;
                    }
                }
            }
        }
        this.songData = songDataFromJson;
        // for (let i = 0; i < this.songData.song.notes.length; i++) {
        //     for (let j = 0; j < this.songData.song.notes[i].sectionData.length; j++) {
        //         cc.log("time: " + this.songData.song.notes[i].sectionData[j].timeStart);
        //     }
        // }
    };
    __decorate([
        property(cc.JsonAsset)
    ], ReadData.prototype, "asset", void 0);
    __decorate([
        property(cc.Integer)
    ], ReadData.prototype, "timeStartIChoose", void 0);
    __decorate([
        property({ type: cc.Enum(Difficult) })
    ], ReadData.prototype, "diff", void 0);
    ReadData = __decorate([
        ccclass
    ], ReadData);
    return ReadData;
}(cc.Component));
exports.default = ReadData;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29udHJvbGxlclxcUmVhZERhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxrQkFBcUMsRUFBbkMsb0JBQU8sRUFBRSxzQkFBMEIsQ0FBQztBQUM1QyxJQUFZLFNBSVg7QUFKRCxXQUFZLFNBQVM7SUFDakIseUNBQUksQ0FBQTtJQUNKLDZDQUFNLENBQUE7SUFDTix5Q0FBSSxDQUFBO0FBQ1IsQ0FBQyxFQUpXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBSXBCO0FBRUQ7SUFEQTtRQUVJLGNBQVMsR0FBVyxDQUFDLENBQUM7UUFDdEIsUUFBRyxHQUFXLENBQUMsQ0FBQztRQUNoQixXQUFNLEdBQVcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFKWSxZQUFZO1FBRHhCLE9BQU8sQ0FBQyxjQUFjLENBQUM7T0FDWCxZQUFZLENBSXhCO0lBQUQsbUJBQUM7Q0FKRCxBQUlDLElBQUE7QUFKWSxvQ0FBWTtBQU16QjtJQURBO1FBRUksbUJBQWMsR0FBVyxDQUFDLENBQUM7UUFDM0Isa0JBQWEsR0FBVyxDQUFDLENBQUM7UUFDMUIsaUJBQVksR0FBZSxFQUFFLENBQUM7UUFDOUIsbUJBQWMsR0FBWSxLQUFLLENBQUM7UUFDaEMsZ0JBQVcsR0FBbUIsRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFOWSxLQUFLO1FBRGpCLE9BQU8sQ0FBQyxPQUFPLENBQUM7T0FDSixLQUFLLENBTWpCO0lBQUQsWUFBQztDQU5ELEFBTUMsSUFBQTtBQU5ZLHNCQUFLO0FBUWxCO0lBREE7UUFFSSxTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLFVBQUssR0FBWSxFQUFFLENBQUM7UUFDcEIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixRQUFHLEdBQVcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFOWSxJQUFJO1FBRGhC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QUNKO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQztRQUNqQyw4REFBOEQ7UUFDOUQsaUZBQWlGO1FBQ2pGLG1GQUFtRjtRQUNuRixRQUFRO1FBQ1IsSUFBSTtJQUNSLENBQUM7SUE1RkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzsyQ0FDSTtJQUszQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDO3NEQUNRO0lBRTdCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQzswQ0FDQztJQVR2QixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBZ0c1QjtJQUFELGVBQUM7Q0FoR0QsQUFnR0MsQ0FoR3FDLEVBQUUsQ0FBQyxTQUFTLEdBZ0dqRDtrQkFoR29CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSnNvblBhcnNlciBmcm9tIFwiLi9Kc29uUGFyc2VyXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5leHBvcnQgZW51bSBEaWZmaWN1bHQge1xyXG4gICAgRUFTWSxcclxuICAgIE5PUk1BTCxcclxuICAgIEhBUkRcclxufVxyXG5AY2NjbGFzcygnU2VjdGlvbk5vdGVzJylcclxuZXhwb3J0IGNsYXNzIFNlY3Rpb25Ob3RlcyB7XHJcbiAgICB0aW1lU3RhcnQ6IG51bWJlciA9IDA7XHJcbiAgICBwb3M6IG51bWJlciA9IDA7XHJcbiAgICBsZW5ndGg6IG51bWJlciA9IDA7XHJcbn1cclxuQGNjY2xhc3MoJ05vdGVzJylcclxuZXhwb3J0IGNsYXNzIE5vdGVzIHtcclxuICAgIHR5cGVPZmZTZWN0aW9uOiBudW1iZXIgPSAwO1xyXG4gICAgbGVuZ3RoSW5TdGVwczogbnVtYmVyID0gMDtcclxuICAgIHNlY3Rpb25Ob3RlczogbnVtYmVyW11bXSA9IFtdO1xyXG4gICAgbXVzdEhpdFNlY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHNlY3Rpb25EYXRhOiBTZWN0aW9uTm90ZXNbXSA9IFtdO1xyXG59XHJcbkBjY2NsYXNzKCdTb25nJylcclxuZXhwb3J0IGNsYXNzIFNvbmcge1xyXG4gICAgc29uZzogU3RyaW5nID0gXCJcIjtcclxuICAgIG5vdGVzOiBOb3Rlc1tdID0gW107XHJcbiAgICBuZWVkc1ZvaWNlczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgc3BlZWQ6IG51bWJlciA9IDA7XHJcbiAgICBicG06IG51bWJlciA9IDA7XHJcbn1cclxuQGNjY2xhc3MoJ1NvbmdEYXRhJylcclxuZXhwb3J0IGNsYXNzIFNvbmdEYXRhIHtcclxuICAgIHNvbmc6IFNvbmcgPSBudWxsO1xyXG59XHJcbkBjY2NsYXNzKCdTb25nQ2xpcCcpXHJcbmV4cG9ydCBjbGFzcyBTb25nQ2xpcCB7XHJcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxyXG4gICAgc29uZzogc3RyaW5nID0gXCJcIjtcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICB9KVxyXG4gICAgY2xpcFNvbmc6IGNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgfSlcclxuICAgIGNsaXBWb2ljZTogY2MuQXVkaW9DbGlwID0gbnVsbDtcclxufVxyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhZERhdGEgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcclxuICAgIGFzc2V0OiBjYy5Kc29uQXNzZXQgPSBudWxsO1xyXG4gICAgc29uZ0RhdGE6IFNvbmdEYXRhID0gbnVsbDtcclxuICAgIC8vIEBwcm9wZXJ0eShbU29uZ0NsaXBdKVxyXG4gICAgLy8gc29uZ0F1ZGlvOiBTb25nQ2xpcFtdID0gW107XHJcbiAgICBAcHJvcGVydHkoY2MuSW50ZWdlcilcclxuICAgIHRpbWVTdGFydElDaG9vc2U6IG51bWJlciA9IDA7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5FbnVtKERpZmZpY3VsdCkgfSlcclxuICAgIHB1YmxpYyBkaWZmOiBEaWZmaWN1bHQgPSBEaWZmaWN1bHQuRUFTWTtcclxuICAgIC8vIEBwcm9wZXJ0eShjYy5TdHJpbmcpXHJcbiAgICAvLyBwYXRoRGF0YTogc3RyaW5nID0gXCJcIjtcclxuICAgIC8vIEBwcm9wZXJ0eShjYy5TdHJpbmcpXHJcbiAgICAvLyBwYXRoU29uZzogc3RyaW5nID0gXCJcIjtcclxuICAgIEdldFNvbmdEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvbmdEYXRhLnNvbmc7XHJcbiAgICB9XHJcbiAgICBHZXRTb25nQ2xpcCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5HZW5lcmF0ZVNGWCgpO1xyXG4gICAgfVxyXG4gICAgR2VuZXJhdGVTRlgoKSB7XHJcbiAgICAgICAgLy9sZXQgZGlmZiA9IERpZmZpY3VsdC5FQVNZO1xyXG4gICAgICAgIC8vbGV0IGpzb24gPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5wYXRoRGF0YSk7XHJcbiAgICAgICAgLy9sZXQgc29uZyA9IEpzb25QYXJzZXIucGFyc2U8U29uZ0RhdGE+KHRoaXMucGF0aERhdGEpO1xyXG4gICAgICAgIC8vY2MubG9nKHNvbmcuc29uZyk7XHJcbiAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjYy5sb2coSlNPTi5zdHJpbmdpZnkoSnNvblBhcnNlci5wYXJzZTxTb25nRGF0YT4odGhpcy5wYXRoRGF0YSkpKTtcclxuICAgICAgICAvLyB9LCAxKTtcclxuICAgICAgICAvLyBsZXQgcGVyc29uOiBQZXJzb24gPSBuZXcgUGVyc29uKCk7XHJcbiAgICAgICAgLy8gcGVyc29uLmlkID0gMTA7XHJcbiAgICAgICAgLy8gcGVyc29uLm5hbWUgPSBcIkhpZXVcIjtcclxuICAgICAgICAvLyBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KHBlcnNvbik7XHJcbiAgICAgICAgLy8gY2MubG9nKGpzb24pO1xyXG4gICAgICAgIC8vdmFyIHVybCA9IGNjLnVybC5yYXcodGhpcy5wYXRoRGF0YSk7XHJcbiAgICAgICAgLy9jYy5sb2FkZXIubG9hZFJlcygnMjQgMnphdm9kaWxhLWhhcmQnLCBjYy5Kc29uQXNzZXQsIChlcnIsIHJlcykgPT4ge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJMb2FkIEpzb25cIik7XHJcbiAgICAgICAgLy9sZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KHJlcyk7XHJcbiAgICAgICAgLy9sZXQgc29uZzogU29uZ0RhdGEgPSBPYmplY3QuYXNzaWduKG5ldyBTb25nRGF0YSgpLCBKU09OLnBhcnNlKHJlcy5qc29uKSk7XHJcbiAgICAgICAgLy9jYy5sb2cocmVzLmpzb24pO1xyXG4gICAgICAgIC8vfSk7ICAgICBcclxuXHJcblxyXG4gICAgICAgIC8vUmVuZGVyRGF0YSBKc29uIC0gSGlldSBXaWxzb24gXHJcbiAgICAgICAgbGV0IHNvbmdGcm9tSnNvbiA9IHRoaXMuYXNzZXQuanNvbltcInNvbmdcIl1bMF07XHJcbiAgICAgICAgbGV0IHNvbmdEYXRhRnJvbUpzb246IFNvbmdEYXRhID0gbmV3IFNvbmdEYXRhKCk7XHJcbiAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nID0gT2JqZWN0LmFzc2lnbihuZXcgU29uZ0RhdGEoKSwgc29uZ0Zyb21Kc29uKTtcclxuICAgICAgICBzb25nRGF0YUZyb21Kc29uLnNvbmcuc29uZyA9IHNvbmdGcm9tSnNvbi5zb25nO1xyXG4gICAgICAgIHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3RlcyA9IHNvbmdGcm9tSnNvbi5ub3RlcztcclxuICAgICAgICBzb25nRGF0YUZyb21Kc29uLnNvbmcubmVlZHNWb2ljZXMgPSBzb25nRnJvbUpzb24ubmVlZHNWb2ljZXM7XHJcbiAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nLnNwZWVkID0gc29uZ0Zyb21Kc29uLnNwZWVkO1xyXG4gICAgICAgIHNvbmdEYXRhRnJvbUpzb24uc29uZy5icG0gPSBzb25nRnJvbUpzb24uYnBtO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29uZ0Zyb21Kc29uLm5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNvbmdGcm9tSnNvbi5ub3Rlc1tpXS5zZWN0aW9uTm90ZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uOiBTZWN0aW9uTm90ZXMgPSBuZXcgU2VjdGlvbk5vdGVzKCk7XHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnRpbWVTdGFydCA9IHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uTm90ZXNbal1bMF0gLyAxMDAwO1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5wb3MgPSBNYXRoLnJvdW5kKHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uTm90ZXNbal1bMV0pO1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5sZW5ndGggPSBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbk5vdGVzW2pdWzJdO1xyXG4gICAgICAgICAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhLnB1c2goc2VjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhLnNvcnQoKG4xLCBuMikgPT4gbjEudGltZVN0YXJ0IC0gbjIudGltZVN0YXJ0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGFbal0udGltZVN0YXJ0IDwgdGhpcy50aW1lU3RhcnRJQ2hvb3NlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhLnNwbGljZShqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHRcdCBmb3IgKGxldCBpID0gMDsgaSA8IHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhW2pdLnRpbWVTdGFydCAgPSBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGFbal0udGltZVN0YXJ0IC0gdGhpcy50aW1lU3RhcnRJQ2hvb3NlO1x0XHRcdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gICAgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSBqICsgMTsgayA8IHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uRGF0YS5sZW5ndGggLSAxOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhW2pdLnRpbWVTdGFydCA9PSBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGFba10udGltZVN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIHNvbmdEYXRhRnJvbUpzb24uc29uZy5ub3Rlc1tpXS5zZWN0aW9uRGF0YVtqXS5wb3MgIT0gc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhW2tdLnBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb25nRGF0YUZyb21Kc29uLnNvbmcubm90ZXNbaV0uc2VjdGlvbkRhdGFba10ucG9zID0gc29uZ0RhdGFGcm9tSnNvbi5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhW2pdLnBvcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc29uZ0RhdGEgPSBzb25nRGF0YUZyb21Kc29uO1xyXG4gICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zb25nRGF0YS5zb25nLm5vdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5zb25nRGF0YS5zb25nLm5vdGVzW2ldLnNlY3Rpb25EYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjYy5sb2coXCJ0aW1lOiBcIiArIHRoaXMuc29uZ0RhdGEuc29uZy5ub3Rlc1tpXS5zZWN0aW9uRGF0YVtqXS50aW1lU3RhcnQpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Pool/PoolManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b197esH2m5ETZMvFV78q2ON', 'PoolManager');
// Scripts/Common/Pool/PoolManager.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var BasePool_1 = require("./BasePool");
var Singleton_1 = require("../Singleton");
var EnumDefine_1 = require("../EnumDefine");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Bullet = /** @class */ (function () {
    function Bullet() {
        this.Pool = null;
        this.typeBullet = EnumDefine_1.BulletType.B5;
    }
    __decorate([
        property(BasePool_1.default)
    ], Bullet.prototype, "Pool", void 0);
    __decorate([
        property({ type: cc.Enum(EnumDefine_1.BulletType) })
    ], Bullet.prototype, "typeBullet", void 0);
    Bullet = __decorate([
        ccclass('Bullet')
    ], Bullet);
    return Bullet;
}());
exports.Bullet = Bullet;
var Ship = /** @class */ (function () {
    function Ship() {
        this.Pool = null;
        this.typeship = EnumDefine_1.ShipType.S1;
    }
    __decorate([
        property(BasePool_1.default)
    ], Ship.prototype, "Pool", void 0);
    __decorate([
        property({ type: cc.Enum(EnumDefine_1.ShipType) })
    ], Ship.prototype, "typeship", void 0);
    Ship = __decorate([
        ccclass('Dragon')
    ], Ship);
    return Ship;
}());
exports.Ship = Ship;
var PoolManager = /** @class */ (function (_super) {
    __extends(PoolManager, _super);
    function PoolManager() {
        var _this = _super.call(this) || this;
        _this.arrayBullet = [];
        _this.arrayShip = [];
        _this.hitVFX = null;
        _this.hitVFX2 = null;
        _this.enemyExplosion = null;
        _this.enemyExplosion2 = null;
        _this.Coin = null;
        PoolManager_1._instance = _this;
        return _this;
    }
    PoolManager_1 = PoolManager;
    PoolManager.prototype.SpawnerBullet = function (type) {
        for (var i = 0; i < this.arrayBullet.length; ++i) {
            if (type == this.arrayBullet[i].typeBullet) {
                return this.arrayBullet[i].Pool.createObject(this.node);
            }
        }
    };
    PoolManager.prototype.SpawnerShip = function (type) {
        for (var i = 0; i < this.arrayShip.length; ++i) {
            if (type == this.arrayShip[i].typeship) {
                return this.arrayShip[i].Pool.createObject(this.node);
            }
        }
    };
    PoolManager.prototype.RecycleBullet = function (type, node) {
        for (var i = 0; i < this.arrayBullet.length; ++i)
            if (type == this.arrayBullet[i].typeBullet) {
                this.arrayBullet[i].Pool.RecycleObject(node);
            }
    };
    var PoolManager_1;
    __decorate([
        property(Bullet)
    ], PoolManager.prototype, "arrayBullet", void 0);
    __decorate([
        property(Ship)
    ], PoolManager.prototype, "arrayShip", void 0);
    __decorate([
        property(BasePool_1.default)
    ], PoolManager.prototype, "hitVFX", void 0);
    __decorate([
        property(BasePool_1.default)
    ], PoolManager.prototype, "hitVFX2", void 0);
    __decorate([
        property(BasePool_1.default)
    ], PoolManager.prototype, "enemyExplosion", void 0);
    __decorate([
        property(BasePool_1.default)
    ], PoolManager.prototype, "enemyExplosion2", void 0);
    __decorate([
        property(BasePool_1.default)
    ], PoolManager.prototype, "Coin", void 0);
    PoolManager = PoolManager_1 = __decorate([
        ccclass
    ], PoolManager);
    return PoolManager;
}(Singleton_1.default));
exports.default = PoolManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxQb29sXFxQb29sTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1Q0FBa0M7QUFDbEMsMENBQXFDO0FBQ3JDLDRDQUFxRDtBQUMvQyxJQUFBLGtCQUFxQyxFQUFuQyxvQkFBTyxFQUFFLHNCQUEwQixDQUFDO0FBRzVDO0lBREE7UUFHSSxTQUFJLEdBQWEsSUFBSSxDQUFDO1FBRWYsZUFBVSxHQUFlLHVCQUFVLENBQUMsRUFBRSxDQUFDO0lBQ2xELENBQUM7SUFIRztRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDO3dDQUNHO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsdUJBQVUsQ0FBQyxFQUFFLENBQUM7OENBQ007SUFKckMsTUFBTTtRQURsQixPQUFPLENBQUMsUUFBUSxDQUFDO09BQ0wsTUFBTSxDQUtsQjtJQUFELGFBQUM7Q0FMRCxBQUtDLElBQUE7QUFMWSx3QkFBTTtBQU9uQjtJQURBO1FBR0ksU0FBSSxHQUFhLElBQUksQ0FBQztRQUVmLGFBQVEsR0FBYSxxQkFBUSxDQUFDLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBSEc7UUFEQyxRQUFRLENBQUMsa0JBQVEsQ0FBQztzQ0FDRztJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLHFCQUFRLENBQUMsRUFBRSxDQUFDOzBDQUNFO0lBSi9CLElBQUk7UUFEaEIsT0FBTyxDQUFDLFFBQVEsQ0FBQztPQUNMLElBQUksQ0FLaEI7SUFBRCxXQUFDO0NBTEQsQUFLQyxJQUFBO0FBTFksb0JBQUk7QUFPakI7SUFBeUMsK0JBQXNCO0lBZTNEO1FBQUEsWUFDSSxpQkFBTyxTQUVWO1FBaEJELGlCQUFXLEdBQWEsRUFBRSxDQUFDO1FBRTNCLGVBQVMsR0FBVyxFQUFFLENBQUM7UUFFdkIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUV4QixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBRXpCLG9CQUFjLEdBQWEsSUFBSSxDQUFDO1FBRWhDLHFCQUFlLEdBQWEsSUFBSSxDQUFDO1FBRWpDLFVBQUksR0FBYSxJQUFJLENBQUM7UUFHbEIsYUFBVyxDQUFDLFNBQVMsR0FBRyxLQUFJLENBQUM7O0lBQ2pDLENBQUM7b0JBbEJnQixXQUFXO0lBbUI1QixtQ0FBYSxHQUFiLFVBQWMsSUFBZ0I7UUFDMUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQzlDLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFO2dCQUN4QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDM0Q7U0FDSjtJQUNMLENBQUM7SUFDRCxpQ0FBVyxHQUFYLFVBQVksSUFBYztRQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDNUMsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Z0JBQ3BDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUN6RDtTQUNKO0lBQ0wsQ0FBQztJQUNELG1DQUFhLEdBQWIsVUFBYyxJQUFnQixFQUFFLElBQWE7UUFDekMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztZQUM1QyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRTtnQkFDeEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ2hEO0lBQ1QsQ0FBQzs7SUFwQ0Q7UUFEQyxRQUFRLENBQUMsTUFBTSxDQUFDO29EQUNVO0lBRTNCO1FBREMsUUFBUSxDQUFDLElBQUksQ0FBQztrREFDUTtJQUV2QjtRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDOytDQUNLO0lBRXhCO1FBREMsUUFBUSxDQUFDLGtCQUFRLENBQUM7Z0RBQ007SUFFekI7UUFEQyxRQUFRLENBQUMsa0JBQVEsQ0FBQzt1REFDYTtJQUVoQztRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDO3dEQUNjO0lBRWpDO1FBREMsUUFBUSxDQUFDLGtCQUFRLENBQUM7NkNBQ0c7SUFkTCxXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBdUMvQjtJQUFELGtCQUFDO0NBdkNELEFBdUNDLENBdkN3QyxtQkFBUyxHQXVDakQ7a0JBdkNvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VQb29sIGZyb20gXCIuL0Jhc2VQb29sXCI7XHJcbmltcG9ydCBTaW5nbGV0b24gZnJvbSBcIi4uL1NpbmdsZXRvblwiO1xyXG5pbXBvcnQgeyBCdWxsZXRUeXBlLCBTaGlwVHlwZSB9IGZyb20gXCIuLi9FbnVtRGVmaW5lXCI7XHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcygnQnVsbGV0JylcclxuZXhwb3J0IGNsYXNzIEJ1bGxldCB7XHJcbiAgICBAcHJvcGVydHkoQmFzZVBvb2wpXHJcbiAgICBQb29sOiBCYXNlUG9vbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoeyB0eXBlOiBjYy5FbnVtKEJ1bGxldFR5cGUpIH0pXHJcbiAgICBwdWJsaWMgdHlwZUJ1bGxldDogQnVsbGV0VHlwZSA9IEJ1bGxldFR5cGUuQjU7XHJcbn1cclxuQGNjY2xhc3MoJ0RyYWdvbicpXHJcbmV4cG9ydCBjbGFzcyBTaGlwIHtcclxuICAgIEBwcm9wZXJ0eShCYXNlUG9vbClcclxuICAgIFBvb2w6IEJhc2VQb29sID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eSh7IHR5cGU6IGNjLkVudW0oU2hpcFR5cGUpIH0pXHJcbiAgICBwdWJsaWMgdHlwZXNoaXA6IFNoaXBUeXBlID0gU2hpcFR5cGUuUzE7XHJcbn1cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9vbE1hbmFnZXIgZXh0ZW5kcyBTaW5nbGV0b248UG9vbE1hbmFnZXI+IHtcclxuICAgIEBwcm9wZXJ0eShCdWxsZXQpXHJcbiAgICBhcnJheUJ1bGxldDogQnVsbGV0W10gPSBbXTtcclxuICAgIEBwcm9wZXJ0eShTaGlwKVxyXG4gICAgYXJyYXlTaGlwOiBTaGlwW10gPSBbXTtcclxuICAgIEBwcm9wZXJ0eShCYXNlUG9vbClcclxuICAgIGhpdFZGWDogQmFzZVBvb2wgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KEJhc2VQb29sKVxyXG4gICAgaGl0VkZYMjogQmFzZVBvb2wgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KEJhc2VQb29sKVxyXG4gICAgZW5lbXlFeHBsb3Npb246IEJhc2VQb29sID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShCYXNlUG9vbClcclxuICAgIGVuZW15RXhwbG9zaW9uMjogQmFzZVBvb2wgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KEJhc2VQb29sKVxyXG4gICAgQ29pbjogQmFzZVBvb2wgPSBudWxsO1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBQb29sTWFuYWdlci5faW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgU3Bhd25lckJ1bGxldCh0eXBlOiBCdWxsZXRUeXBlKTogY2MuTm9kZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5QnVsbGV0Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09IHRoaXMuYXJyYXlCdWxsZXRbaV0udHlwZUJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlCdWxsZXRbaV0uUG9vbC5jcmVhdGVPYmplY3QodGhpcy5ub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFNwYXduZXJTaGlwKHR5cGU6IFNoaXBUeXBlKTogY2MuTm9kZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5U2hpcC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PSB0aGlzLmFycmF5U2hpcFtpXS50eXBlc2hpcCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlTaGlwW2ldLlBvb2wuY3JlYXRlT2JqZWN0KHRoaXMubm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSZWN5Y2xlQnVsbGV0KHR5cGU6IEJ1bGxldFR5cGUsIG5vZGU6IGNjLk5vZGUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJyYXlCdWxsZXQubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09IHRoaXMuYXJyYXlCdWxsZXRbaV0udHlwZUJ1bGxldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcnJheUJ1bGxldFtpXS5Qb29sLlJlY3ljbGVPYmplY3Qobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Base/GlobalGamePlay.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dd87cExEyBFWYnLOVXgRudY', 'GlobalGamePlay');
// Scripts/Common/Base/GlobalGamePlay.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager2_1 = require("../../Manager/GameManager2");
var Singleton_1 = require("../Singleton");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.eventDispatcher = new cc.EventTarget();
var GlobalGamePlay = /** @class */ (function (_super) {
    __extends(GlobalGamePlay, _super);
    function GlobalGamePlay() {
        var _this = _super.call(this) || this;
        _this.gameplay = GameManager2_1.default.Instance(GameManager2_1.default);
        GlobalGamePlay_1._instance = _this;
        return _this;
    }
    GlobalGamePlay_1 = GlobalGamePlay;
    var GlobalGamePlay_1;
    GlobalGamePlay = GlobalGamePlay_1 = __decorate([
        ccclass
    ], GlobalGamePlay);
    return GlobalGamePlay;
}(Singleton_1.default));
exports.default = GlobalGamePlay;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxCYXNlXFxHbG9iYWxHYW1lUGxheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyREFBc0Q7QUFDdEQsMENBQXFDO0FBRS9CLElBQUEsa0JBQXFDLEVBQW5DLG9CQUFPLEVBQUUsc0JBQTBCLENBQUM7QUFDL0IsUUFBQSxlQUFlLEdBQUcsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7QUFFcEQ7SUFBNEMsa0NBQXlCO0lBRWpFO1FBQUEsWUFDSSxpQkFBTyxTQUVWO1FBSkQsY0FBUSxHQUFpQixzQkFBWSxDQUFDLFFBQVEsQ0FBQyxzQkFBWSxDQUFDLENBQUM7UUFHekQsZ0JBQWMsQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDOztJQUNwQyxDQUFDO3VCQUxnQixjQUFjOztJQUFkLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FNbEM7SUFBRCxxQkFBQztDQU5ELEFBTUMsQ0FOMkMsbUJBQVMsR0FNcEQ7a0JBTm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZU1hbmFnZXIyIGZyb20gXCIuLi8uLi9NYW5hZ2VyL0dhbWVNYW5hZ2VyMlwiO1xyXG5pbXBvcnQgU2luZ2xldG9uIGZyb20gXCIuLi9TaW5nbGV0b25cIjtcclxuXHJcbmNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcbmV4cG9ydCBjb25zdCBldmVudERpc3BhdGNoZXIgPSBuZXcgY2MuRXZlbnRUYXJnZXQoKTtcclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2xvYmFsR2FtZVBsYXkgZXh0ZW5kcyBTaW5nbGV0b248R2xvYmFsR2FtZVBsYXk+IHtcclxuICAgIGdhbWVwbGF5OiBHYW1lTWFuYWdlcjIgPSBHYW1lTWFuYWdlcjIuSW5zdGFuY2UoR2FtZU1hbmFnZXIyKTtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgR2xvYmFsR2FtZVBsYXkuX2luc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/CanvasTouch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11148qXbqhDWKPY+o1cTARf', 'CanvasTouch');
// Scripts/Common/CanvasTouch.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Global_1 = require("./Base/Global");
var GlobalGamePlay_1 = require("./Base/GlobalGamePlay");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CanvasTouch = /** @class */ (function (_super) {
    __extends(CanvasTouch, _super);
    function CanvasTouch() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.androidLink = "";
        _this.iosLink = "";
        _this.defaultLink = "";
        _this.isMouseDown = false;
        return _this;
    }
    CanvasTouch.prototype.start = function () {
        this.node.on(cc.Node.EventType.TOUCH_START, this.TouchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.TouchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.TouchEnd, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.TouchEnd, this);
    };
    CanvasTouch.prototype.TouchStart = function (event) {
        if (!Global_1.default.boolEndGame) {
            if (GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.isCanStartGame) {
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.firstTouch = true;
                this.isMouseDown = true;
                var mousePosition = event.getLocation();
                mousePosition = this.node.convertToNodeSpaceAR(mousePosition);
                Global_1.default.touchPos = mousePosition;
            }
        }
        else {
            this.openAdUrl();
        }
    };
    CanvasTouch.prototype.TouchMove = function (event) {
        if (this.isMouseDown) {
            if (GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.isCanStartGame) {
                var mousePosition = event.getLocation();
                mousePosition = this.node.convertToNodeSpaceAR(mousePosition);
                Global_1.default.touchPos = mousePosition;
            }
        }
    };
    CanvasTouch.prototype.TouchEnd = function (event) {
        if (GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.isCanStartGame) {
            this.isMouseDown = false;
            var mousePosition = event.getLocation();
            mousePosition = this.node.convertToNodeSpaceAR(mousePosition);
            Global_1.default.touchPos = mousePosition;
        }
    };
    CanvasTouch.prototype.openAdUrl = function () {
        var clickTag = '';
        window.androidLink = this.androidLink;
        window.iosLink = this.iosLink;
        window.defaultLink = this.defaultLink;
        if (window.openAdUrl) {
            window.openAdUrl();
        }
        else {
            window.open();
        }
    };
    __decorate([
        property(cc.String)
    ], CanvasTouch.prototype, "androidLink", void 0);
    __decorate([
        property(cc.String)
    ], CanvasTouch.prototype, "iosLink", void 0);
    __decorate([
        property(cc.String)
    ], CanvasTouch.prototype, "defaultLink", void 0);
    CanvasTouch = __decorate([
        ccclass
    ], CanvasTouch);
    return CanvasTouch;
}(cc.Component));
exports.default = CanvasTouch;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxDYW52YXNUb3VjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBbUM7QUFDbkMsd0RBQW1EO0FBRTdDLElBQUEsa0JBQXFDLEVBQW5DLG9CQUFPLEVBQUUsc0JBQTBCLENBQUM7QUFHNUM7SUFBeUMsK0JBQVk7SUFEckQ7UUFBQSxxRUF5REM7UUF0REcsaUJBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsYUFBTyxHQUFXLEVBQUUsQ0FBQztRQUVyQixpQkFBVyxHQUFXLEVBQUUsQ0FBQztRQUN6QixpQkFBVyxHQUFZLEtBQUssQ0FBQzs7SUFpRGpDLENBQUM7SUFoRGEsMkJBQUssR0FBZjtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFDRCxnQ0FBVSxHQUFWLFVBQVcsS0FBSztRQUNaLElBQUksQ0FBQyxnQkFBTSxDQUFDLFdBQVcsRUFBRTtZQUNyQixJQUFJLHdCQUFjLENBQUMsUUFBUSxDQUFDLHdCQUFjLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFO2dCQUNqRSx3QkFBYyxDQUFDLFFBQVEsQ0FBQyx3QkFBYyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Z0JBQ25FLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO2dCQUN4QixJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3hDLGFBQWEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUM5RCxnQkFBTSxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUM7YUFDbkM7U0FDSjthQUNJO1lBQ0QsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUNELCtCQUFTLEdBQVQsVUFBVSxLQUFLO1FBQ1gsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2xCLElBQUksd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUU7Z0JBQ2pFLElBQUksYUFBYSxHQUFHLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDeEMsYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxDQUFDLENBQUM7Z0JBQzlELGdCQUFNLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQzthQUNuQztTQUNKO0lBQ0wsQ0FBQztJQUNELDhCQUFRLEdBQVIsVUFBUyxLQUFLO1FBQ1YsSUFBSSx3QkFBYyxDQUFDLFFBQVEsQ0FBQyx3QkFBYyxDQUFDLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRTtZQUNqRSxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztZQUN6QixJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDeEMsYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDOUQsZ0JBQU0sQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDO1NBQ25DO0lBQ0wsQ0FBQztJQUNELCtCQUFTLEdBQVQ7UUFDSSxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbEIsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3RDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM5QixNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDdEMsSUFBSSxNQUFNLENBQUMsU0FBUyxFQUFFO1lBQ2xCLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQztTQUN0QjthQUFNO1lBQ0gsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2pCO0lBQ0wsQ0FBQztJQXJERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO29EQUNLO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ0M7SUFFckI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvREFDSztJQU5SLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0F3RC9CO0lBQUQsa0JBQUM7Q0F4REQsQUF3REMsQ0F4RHdDLEVBQUUsQ0FBQyxTQUFTLEdBd0RwRDtrQkF4RG9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2xvYmFsIGZyb20gXCIuL0Jhc2UvR2xvYmFsXCI7XHJcbmltcG9ydCBHbG9iYWxHYW1lUGxheSBmcm9tIFwiLi9CYXNlL0dsb2JhbEdhbWVQbGF5XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5kZWNsYXJlIGNvbnN0IHdpbmRvdzogYW55O1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNUb3VjaCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxyXG4gICAgYW5kcm9pZExpbms6IFN0cmluZyA9IFwiXCI7XHJcbiAgICBAcHJvcGVydHkoY2MuU3RyaW5nKVxyXG4gICAgaW9zTGluazogU3RyaW5nID0gXCJcIjtcclxuICAgIEBwcm9wZXJ0eShjYy5TdHJpbmcpXHJcbiAgICBkZWZhdWx0TGluazogU3RyaW5nID0gXCJcIjtcclxuICAgIGlzTW91c2VEb3duOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgc3RhcnQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLlRvdWNoU3RhcnQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCB0aGlzLlRvdWNoTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5Ub3VjaEVuZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5Ub3VjaEVuZCwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBUb3VjaFN0YXJ0KGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFHbG9iYWwuYm9vbEVuZEdhbWUpIHtcclxuICAgICAgICAgICAgaWYgKEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5pc0NhblN0YXJ0R2FtZSkge1xyXG4gICAgICAgICAgICAgICAgR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5LmZpcnN0VG91Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGV2ZW50LmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKG1vdXNlUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgR2xvYmFsLnRvdWNoUG9zID0gbW91c2VQb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuQWRVcmwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBUb3VjaE1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAoR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5LmlzQ2FuU3RhcnRHYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IGV2ZW50LmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0gdGhpcy5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKG1vdXNlUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgR2xvYmFsLnRvdWNoUG9zID0gbW91c2VQb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFRvdWNoRW5kKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5pc0NhblN0YXJ0R2FtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gZXZlbnQuZ2V0TG9jYXRpb24oKTtcclxuICAgICAgICAgICAgbW91c2VQb3NpdGlvbiA9IHRoaXMubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihtb3VzZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgR2xvYmFsLnRvdWNoUG9zID0gbW91c2VQb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuQWRVcmwoKSB7XHJcbiAgICAgICAgdmFyIGNsaWNrVGFnID0gJyc7XHJcbiAgICAgICAgd2luZG93LmFuZHJvaWRMaW5rID0gdGhpcy5hbmRyb2lkTGluaztcclxuICAgICAgICB3aW5kb3cuaW9zTGluayA9IHRoaXMuaW9zTGluaztcclxuICAgICAgICB3aW5kb3cuZGVmYXVsdExpbmsgPSB0aGlzLmRlZmF1bHRMaW5rO1xyXG4gICAgICAgIGlmICh3aW5kb3cub3BlbkFkVXJsKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuQWRVcmwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Manager/GameManager2.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '05030Yx1itO5Jvj4xMY8rwx', 'GameManager2');
// Scripts/Manager/GameManager2.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var DragRotate_1 = require("../../SymmetricGamePlay/Scripts/DragRotate");
var Global_1 = require("../Common/Base/Global");
var Singleton_1 = require("../Common/Singleton");
var SoundManager_1 = require("../Common/SoundManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GameManager2 = /** @class */ (function (_super) {
    __extends(GameManager2, _super);
    //MyConfig
    function GameManager2() {
        var _this = _super.call(this) || this;
        _this.soundManager = null;
        _this.endGame = false;
        _this.startAnchorX = -190;
        _this.endAnchorX = 190;
        _this.lengthOfSlider = 0;
        _this.firstTouch = false;
        _this.VFX_Node = null;
        //UI Config
        _this.isCanStartGame = false;
        _this.Guide_in = null;
        _this.Guide_win = null;
        // Area
        _this.FakeArea = null;
        _this.PlayArea = null;
        _this.arrayPuzze = [];
        _this.flag01 = false;
        _this.flag02 = false;
        _this.flag03 = false;
        _this.flag04 = false;
        _this.ironsource = false;
        _this.mindworks = false;
        _this.vungle = false;
        GameManager2_1._instance = _this;
        return _this;
    }
    GameManager2_1 = GameManager2;
    GameManager2.prototype.start = function () {
        if (this.mindworks) {
            window.gameReady && window.gameReady();
        }
        this.lengthOfSlider = this.endAnchorX - this.startAnchorX;
        this.isCanStartGame = true;
    };
    GameManager2.prototype.update = function (dt) {
        // this.GetDistance2Point(this.arrayPuzze[2], this.arrayPuzze[3]);
        this.StageCheckCorrect();
    };
    GameManager2.prototype.StageCheckCorrect = function () {
        var _this = this;
        if (!this.endGame) {
            if (this.indexPuzze11 == 0 && this.indexPuzze12 == 0) {
                if (this.GetDistance2Point(this.arrayPuzze[0], this.arrayPuzze[1]) <= 158.5 && this.GetDistance2Point(this.arrayPuzze[0], this.arrayPuzze[1]) >= 148) {
                    if (this.arrayPuzze[0].position.x > this.arrayPuzze[1].x) {
                        if (Math.abs(this.arrayPuzze[0].position.y - this.arrayPuzze[1].y) < 1.5) {
                            if (!this.flag01) {
                                this.flag01 = true;
                                this.arrayPuzze[0].getComponent(DragRotate_1.default).onDoneMerge = true;
                                this.arrayPuzze[1].getComponent(DragRotate_1.default).onDoneMerge = true;
                                this.scheduleOnce(function () {
                                    _this.arrayPuzze[0].runAction(cc.moveTo(0.5, cc.v2(80, -126)));
                                    _this.arrayPuzze[1].runAction(cc.moveTo(0.5, cc.v2(-77, -125)));
                                    _this.scheduleOnce(function () {
                                        _this.flag03 = true;
                                    }, 0.5);
                                }, 0.5);
                            }
                        }
                    }
                }
            }
            if (this.indexPuzze2 == 0 && this.indexPuzze3 == 0) {
                if (this.GetDistance2Point(this.arrayPuzze[2], this.arrayPuzze[3]) <= 158.5 && this.GetDistance2Point(this.arrayPuzze[2], this.arrayPuzze[3]) >= 148) {
                    if (this.arrayPuzze[3].position.x > this.arrayPuzze[2].x) {
                        if (Math.abs(this.arrayPuzze[2].position.y - this.arrayPuzze[3].y) < 1.5) {
                            if (!this.flag02) {
                                this.flag02 = true;
                                this.arrayPuzze[2].getComponent(DragRotate_1.default).onDoneMerge = true;
                                this.arrayPuzze[3].getComponent(DragRotate_1.default).onDoneMerge = true;
                                this.scheduleOnce(function () {
                                    _this.arrayPuzze[2].runAction(cc.moveTo(0.5, cc.v2(-76, 69.81)));
                                    _this.arrayPuzze[3].runAction(cc.moveTo(0.5, cc.v2(80, 69.81)));
                                    _this.scheduleOnce(function () {
                                        _this.flag04 = true;
                                    }, 0.5);
                                }, 0.5);
                            }
                        }
                    }
                }
            }
            if (this.flag03 && this.flag04) {
                this.endGame = true;
                this.scheduleOnce(function () {
                    _this.IEC_ENDCARD();
                }, 0.5);
            }
            if (this.firstTouch) {
                this.Guide_in.active = false;
            }
        }
        // cc.log("indexPuzze11: " + this.indexPuzze11);
        // cc.log("indexPuzze12: " + this.indexPuzze12);
        // cc.log("indexPuzze2: " + this.indexPuzze2);
        // cc.log("indexPuzze3: " + this.indexPuzze3);
    };
    // [0] [1] - distance 157 
    // [2] [3] - distance 157 
    // [0][1] [2][3] - 
    GameManager2.prototype.GetDistance2Point = function (node1, node2) {
        var Temp1x = node1.position.x;
        var Temp1y = node1.position.y;
        var Temp2x = node2.position.x;
        var Temp2y = node2.position.y;
        var distancebyNode = this.Distance(cc.v2(Temp1x, Temp1y), cc.v2(Temp2x, Temp2y));
        //cc.log(distancebyNode);
        return distancebyNode;
    };
    GameManager2.prototype.Distance = function (vec1, vec2) {
        var Distance = Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));
        return Distance;
    };
    GameManager2.prototype.IEC_ENDCARD = function () {
        var _this = this;
        cc.audioEngine.playEffect(this.soundManager.JokerVoice, false);
        this.VFX_Node.active = true;
        this.Guide_win.active = true;
        this.EventNetWork();
        this.endGame = true;
        Global_1.default.boolEndGame = true;
        this.scheduleOnce(function () {
            cc.audioEngine.playEffect(_this.soundManager.BgSound, true);
            _this.PlayArea.active = false;
            _this.FakeArea.active = true;
        }, 2);
    };
    GameManager2.prototype.EventNetWork = function () {
        if (this.mindworks) {
            window.gameEnd && window.gameEnd();
        }
        if (this.ironsource) {
            window.NUC.trigger.endGame('win');
        }
        if (this.vungle) {
            parent.postMessage('complete', '*');
        }
    };
    var GameManager2_1;
    __decorate([
        property(SoundManager_1.default)
    ], GameManager2.prototype, "soundManager", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "VFX_Node", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "Guide_in", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "Guide_win", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "FakeArea", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "PlayArea", void 0);
    __decorate([
        property(cc.Node)
    ], GameManager2.prototype, "arrayPuzze", void 0);
    GameManager2 = GameManager2_1 = __decorate([
        ccclass
    ], GameManager2);
    return GameManager2;
}(Singleton_1.default));
exports.default = GameManager2;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcTWFuYWdlclxcR2FtZU1hbmFnZXIyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlFQUFvRTtBQUNwRSxnREFBMkM7QUFDM0MsaURBQTRDO0FBQzVDLHVEQUFrRDtBQUM1QyxJQUFBLGtCQUFxQyxFQUFuQyxvQkFBTyxFQUFFLHNCQUEwQixDQUFDO0FBRzVDO0lBQTBDLGdDQUF1QjtJQTBDN0QsVUFBVTtJQUNWO1FBQUEsWUFDSSxpQkFBTyxTQUVWO1FBNUNNLGtCQUFZLEdBQWlCLElBQUksQ0FBQztRQUN6QyxhQUFPLEdBQVksS0FBSyxDQUFDO1FBQ3pCLGtCQUFZLEdBQVcsQ0FBQyxHQUFHLENBQUM7UUFDNUIsZ0JBQVUsR0FBVyxHQUFHLENBQUM7UUFDekIsb0JBQWMsR0FBVyxDQUFDLENBQUM7UUFDM0IsZ0JBQVUsR0FBWSxLQUFLLENBQUM7UUFFNUIsY0FBUSxHQUFZLElBQUksQ0FBQztRQUN6QixXQUFXO1FBQ1gsb0JBQWMsR0FBWSxLQUFLLENBQUM7UUFFaEMsY0FBUSxHQUFZLElBQUksQ0FBQztRQUV6QixlQUFTLEdBQVksSUFBSSxDQUFDO1FBTzFCLE9BQU87UUFFUCxjQUFRLEdBQVksSUFBSSxDQUFDO1FBRXpCLGNBQVEsR0FBWSxJQUFJLENBQUM7UUFJekIsZ0JBQVUsR0FBYyxFQUFFLENBQUM7UUFFM0IsWUFBTSxHQUFZLEtBQUssQ0FBQztRQUN4QixZQUFNLEdBQVksS0FBSyxDQUFDO1FBRXhCLFlBQU0sR0FBWSxLQUFLLENBQUM7UUFDeEIsWUFBTSxHQUFZLEtBQUssQ0FBQztRQUd4QixnQkFBVSxHQUFZLEtBQUssQ0FBQztRQUM1QixlQUFTLEdBQVksS0FBSyxDQUFDO1FBQzNCLFlBQU0sR0FBWSxLQUFLLENBQUM7UUFJcEIsY0FBWSxDQUFDLFNBQVMsR0FBRyxLQUFJLENBQUM7O0lBQ2xDLENBQUM7cUJBOUNnQixZQUFZO0lB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QUM7SUFDRCxtQ0FBWSxHQUFaO1FBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hCLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3RDO1FBQ0QsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQTtTQUNwQztRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLE1BQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3ZDO0lBQ0wsQ0FBQzs7SUE5SkQ7UUFEQyxRQUFRLENBQUMsc0JBQVksQ0FBQztzREFDa0I7SUFPekM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztrREFDTztJQUl6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNPO0lBRXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7bURBQ1E7SUFTMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztrREFDTztJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2tEQUNPO0lBSXpCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7b0RBQ1M7SUE5QlYsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQWlLaEM7SUFBRCxtQkFBQztDQWpLRCxBQWlLQyxDQWpLeUMsbUJBQVMsR0FpS2xEO2tCQWpLb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEcmFnUm90YXRlIGZyb20gXCIuLi8uLi9TeW1tZXRyaWNHYW1lUGxheS9TY3JpcHRzL0RyYWdSb3RhdGVcIjtcclxuaW1wb3J0IEdsb2JhbCBmcm9tIFwiLi4vQ29tbW9uL0Jhc2UvR2xvYmFsXCI7XHJcbmltcG9ydCBTaW5nbGV0b24gZnJvbSBcIi4uL0NvbW1vbi9TaW5nbGV0b25cIjtcclxuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tIFwiLi4vQ29tbW9uL1NvdW5kTWFuYWdlclwiO1xyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5kZWNsYXJlIGNvbnN0IHdpbmRvdzogYW55O1xyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lTWFuYWdlcjIgZXh0ZW5kcyBTaW5nbGV0b248R2FtZU1hbmFnZXIyPiB7XHJcbiAgICBAcHJvcGVydHkoU291bmRNYW5hZ2VyKVxyXG4gICAgcHVibGljIHNvdW5kTWFuYWdlcjogU291bmRNYW5hZ2VyID0gbnVsbDtcclxuICAgIGVuZEdhbWU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHN0YXJ0QW5jaG9yWDogbnVtYmVyID0gLTE5MDtcclxuICAgIGVuZEFuY2hvclg6IG51bWJlciA9IDE5MDtcclxuICAgIGxlbmd0aE9mU2xpZGVyOiBudW1iZXIgPSAwO1xyXG4gICAgZmlyc3RUb3VjaDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBWRlhfTm9kZTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICAvL1VJIENvbmZpZ1xyXG4gICAgaXNDYW5TdGFydEdhbWU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgR3VpZGVfaW46IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBHdWlkZV93aW46IGNjLk5vZGUgPSBudWxsO1xyXG4vLyBTdGFnZSBpbmRleCBvZiBQdXp6ZSBub3c7XHJcbiAgICBpbmRleFB1enplMTE6IG51bWJlcjtcclxuICAgIGluZGV4UHV6emUxMjogbnVtYmVyO1xyXG4gICAgaW5kZXhQdXp6ZTI6IG51bWJlcjtcclxuICAgIGluZGV4UHV6emUzOiBudW1iZXI7XHJcblxyXG4gICAgLy8gQXJlYVxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBGYWtlQXJlYTogY2MuTm9kZSA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcclxuICAgIFBsYXlBcmVhOiBjYy5Ob2RlID0gbnVsbDtcclxuXHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBhcnJheVB1enplOiBjYy5Ob2RlW10gPSBbXTtcclxuXHJcbiAgICBmbGFnMDE6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGZsYWcwMjogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGZsYWcwMzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgZmxhZzA0OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgIGlyb25zb3VyY2U6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIG1pbmR3b3JrczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgdnVuZ2xlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAvL015Q29uZmlnXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyMi5faW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWluZHdvcmtzKXtcclxuICAgICAgICAgICAgIHdpbmRvdy5nYW1lUmVhZHkgJiYgd2luZG93LmdhbWVSZWFkeSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxlbmd0aE9mU2xpZGVyID0gdGhpcy5lbmRBbmNob3JYIC0gdGhpcy5zdGFydEFuY2hvclg7XHJcbiAgICAgICAgdGhpcy5pc0NhblN0YXJ0R2FtZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy5HZXREaXN0YW5jZTJQb2ludCh0aGlzLmFycmF5UHV6emVbMl0sIHRoaXMuYXJyYXlQdXp6ZVszXSk7XHJcbiAgICAgICAgdGhpcy5TdGFnZUNoZWNrQ29ycmVjdCgpO1xyXG4gICAgfVxyXG4gICAgU3RhZ2VDaGVja0NvcnJlY3QoKXtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuZW5kR2FtZSl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW5kZXhQdXp6ZTExID09IDAgJiYgdGhpcy5pbmRleFB1enplMTIgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLkdldERpc3RhbmNlMlBvaW50KHRoaXMuYXJyYXlQdXp6ZVswXSwgdGhpcy5hcnJheVB1enplWzFdKSA8PSAxNTguNSAmJiB0aGlzLkdldERpc3RhbmNlMlBvaW50KHRoaXMuYXJyYXlQdXp6ZVswXSwgdGhpcy5hcnJheVB1enplWzFdKSA+PSAxNDggKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmFycmF5UHV6emVbMF0ucG9zaXRpb24ueCA+IHRoaXMuYXJyYXlQdXp6ZVsxXS54KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoTWF0aC5hYnModGhpcy5hcnJheVB1enplWzBdLnBvc2l0aW9uLnkgLSB0aGlzLmFycmF5UHV6emVbMV0ueSkgPCAxLjUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuZmxhZzAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcwMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJheVB1enplWzBdLmdldENvbXBvbmVudChEcmFnUm90YXRlKS5vbkRvbmVNZXJnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJheVB1enplWzFdLmdldENvbXBvbmVudChEcmFnUm90YXRlKS5vbkRvbmVNZXJnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnJheVB1enplWzBdLnJ1bkFjdGlvbihjYy5tb3ZlVG8oMC41LCBjYy52Mig4MCwgLTEyNikpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJyYXlQdXp6ZVsxXS5ydW5BY3Rpb24oY2MubW92ZVRvKDAuNSwgY2MudjIoLTc3LCAtMTI1KSkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZzAzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5pbmRleFB1enplMiA9PSAwICYmIHRoaXMuaW5kZXhQdXp6ZTMgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLkdldERpc3RhbmNlMlBvaW50KHRoaXMuYXJyYXlQdXp6ZVsyXSwgdGhpcy5hcnJheVB1enplWzNdKSA8PSAxNTguNSAmJiB0aGlzLkdldERpc3RhbmNlMlBvaW50KHRoaXMuYXJyYXlQdXp6ZVsyXSwgdGhpcy5hcnJheVB1enplWzNdKSA+PSAxNDgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYXJyYXlQdXp6ZVszXS5wb3NpdGlvbi54ID4gdGhpcy5hcnJheVB1enplWzJdLngpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihNYXRoLmFicyh0aGlzLmFycmF5UHV6emVbMl0ucG9zaXRpb24ueSAtIHRoaXMuYXJyYXlQdXp6ZVszXS55KSA8IDEuNSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5mbGFnMDIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZzAyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFycmF5UHV6emVbMl0uZ2V0Q29tcG9uZW50KERyYWdSb3RhdGUpLm9uRG9uZU1lcmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFycmF5UHV6emVbM10uZ2V0Q29tcG9uZW50KERyYWdSb3RhdGUpLm9uRG9uZU1lcmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFycmF5UHV6emVbMl0ucnVuQWN0aW9uKGNjLm1vdmVUbygwLjUsIGNjLnYyKC03NiwgNjkuODEpKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFycmF5UHV6emVbM10ucnVuQWN0aW9uKGNjLm1vdmVUbygwLjUsIGNjLnYyKDgwLCA2OS44MSkpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcwNCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMC41KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMC41KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLmZsYWcwMyAmJiB0aGlzLmZsYWcwNCApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5JRUNfRU5EQ0FSRCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLmZpcnN0VG91Y2gpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5HdWlkZV9pbi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjYy5sb2coXCJpbmRleFB1enplMTE6IFwiICsgdGhpcy5pbmRleFB1enplMTEpO1xyXG4gICAgICAgIC8vIGNjLmxvZyhcImluZGV4UHV6emUxMjogXCIgKyB0aGlzLmluZGV4UHV6emUxMik7XHJcbiAgICAgICAgLy8gY2MubG9nKFwiaW5kZXhQdXp6ZTI6IFwiICsgdGhpcy5pbmRleFB1enplMik7XHJcbiAgICAgICAgLy8gY2MubG9nKFwiaW5kZXhQdXp6ZTM6IFwiICsgdGhpcy5pbmRleFB1enplMyk7XHJcbiAgICB9XHJcbiAgICAvLyBbMF0gWzFdIC0gZGlzdGFuY2UgMTU3IFxyXG4gICAgLy8gWzJdIFszXSAtIGRpc3RhbmNlIDE1NyBcclxuICAgIC8vIFswXVsxXSBbMl1bM10gLSBcclxuIFxyXG4gICAgR2V0RGlzdGFuY2UyUG9pbnQobm9kZTE6IGNjLk5vZGUsIG5vZGUyOiBjYy5Ob2RlKXsgXHJcbiAgICAgICAgbGV0IFRlbXAxeCA9IG5vZGUxLnBvc2l0aW9uLng7XHJcbiAgICAgICAgbGV0IFRlbXAxeSA9IG5vZGUxLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgbGV0IFRlbXAyeCA9IG5vZGUyLnBvc2l0aW9uLng7XHJcbiAgICAgICAgbGV0IFRlbXAyeSA9IG5vZGUyLnBvc2l0aW9uLnk7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlYnlOb2RlID0gdGhpcy5EaXN0YW5jZShjYy52MihUZW1wMXgsVGVtcDF5KSwgY2MudjIoVGVtcDJ4LCBUZW1wMnkpKTtcclxuICAgICAgICAvL2NjLmxvZyhkaXN0YW5jZWJ5Tm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlYnlOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIERpc3RhbmNlKHZlYzE6IGNjLlZlYzIsIHZlYzI6IGNjLlZlYzIpIHtcclxuICAgICAgICBsZXQgRGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3codmVjMS54IC0gdmVjMi54LCAyKSArIE1hdGgucG93KHZlYzEueSAtIHZlYzIueSwgMikpO1xyXG4gICAgICAgIHJldHVybiBEaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBJRUNfRU5EQ0FSRCgpe1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QodGhpcy5zb3VuZE1hbmFnZXIuSm9rZXJWb2ljZSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuVkZYX05vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLkd1aWRlX3dpbi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuRXZlbnROZXRXb3JrKCk7XHJcbiAgICAgICAgdGhpcy5lbmRHYW1lID0gdHJ1ZTtcclxuICAgICAgICBHbG9iYWwuYm9vbEVuZEdhbWUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QodGhpcy5zb3VuZE1hbmFnZXIuQmdTb3VuZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuUGxheUFyZWEuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuRmFrZUFyZWEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9LCAyKVxyXG5cclxuICAgIH1cclxuICAgIEV2ZW50TmV0V29yaygpIHtcclxuICAgICAgICBpZiAodGhpcy5taW5kd29ya3MpIHtcclxuICAgICAgICAgICAgd2luZG93LmdhbWVFbmQgJiYgd2luZG93LmdhbWVFbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXJvbnNvdXJjZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuTlVDLnRyaWdnZXIuZW5kR2FtZSgnd2luJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudnVuZ2xlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5wb3N0TWVzc2FnZSgnY29tcGxldGUnLCAnKicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/PlatformBtn.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd1c651xp4JB+px11ml/9gni', 'PlatformBtn');
// Scripts/Common/PlatformBtn.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PlatformBtn = /** @class */ (function (_super) {
    __extends(PlatformBtn, _super);
    function PlatformBtn() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.androidSprites = null;
        _this.iosSprites = null;
        return _this;
    }
    PlatformBtn.prototype.start = function () {
        if (cc.sys.os == cc.sys.OS_ANDROID)
            this.getComponent(cc.Sprite).spriteFrame = this.androidSprites;
        else if (cc.sys.os == cc.sys.OS_IOS)
            this.getComponent(cc.Sprite).spriteFrame = this.iosSprites;
    };
    __decorate([
        property(cc.SpriteFrame)
    ], PlatformBtn.prototype, "androidSprites", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], PlatformBtn.prototype, "iosSprites", void 0);
    PlatformBtn = __decorate([
        ccclass
    ], PlatformBtn);
    return PlatformBtn;
}(cc.Component));
exports.default = PlatformBtn;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxQbGF0Zm9ybUJ0bi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBRHJEO1FBQUEscUVBY0M7UUFYRyxvQkFBYyxHQUFtQixJQUFJLENBQUM7UUFFdEMsZ0JBQVUsR0FBbUIsSUFBSSxDQUFDOztJQVN0QyxDQUFDO0lBUkcsMkJBQUssR0FBTDtRQUVJLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFVO1lBQzdCLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO2FBQzlELElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNO1lBQzlCLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ25FLENBQUM7SUFURDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3VEQUNhO0lBRXRDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7bURBQ1M7SUFKakIsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQWEvQjtJQUFELGtCQUFDO0NBYkQsQUFhQyxDQWJ3QyxFQUFFLENBQUMsU0FBUyxHQWFwRDtrQkFib0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhdGZvcm1CdG4gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgYW5kcm9pZFNwcml0ZXM6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGVGcmFtZSlcclxuICAgIGlvc1Nwcml0ZXM6IGNjLlNwcml0ZUZyYW1lID0gbnVsbDtcclxuICAgIHN0YXJ0KClcclxuICAgIHtcclxuICAgICAgICBpZihjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmFuZHJvaWRTcHJpdGVzO1xyXG4gICAgICAgIGVsc2UgaWYoY2Muc3lzLm9zID09IGNjLnN5cy5PU19JT1MpXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLmlvc1Nwcml0ZXM7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/EnumDefine.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '713acjawzRF0KxYHsg44OT4', 'EnumDefine');
// Scripts/Common/EnumDefine.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var BulletType;
(function (BulletType) {
    BulletType[BulletType["B1"] = 0] = "B1";
    BulletType[BulletType["B2"] = 1] = "B2";
    BulletType[BulletType["B3"] = 2] = "B3";
    BulletType[BulletType["B4"] = 3] = "B4";
    BulletType[BulletType["B5"] = 4] = "B5";
    BulletType[BulletType["BEnemy"] = 5] = "BEnemy";
    BulletType[BulletType["BBossGP2_1"] = 6] = "BBossGP2_1";
    BulletType[BulletType["BBossGP2_2"] = 7] = "BBossGP2_2";
    BulletType[BulletType["B6"] = 8] = "B6";
    BulletType[BulletType["B7"] = 9] = "B7";
    BulletType[BulletType["B8"] = 10] = "B8";
    BulletType[BulletType["B9"] = 11] = "B9";
    BulletType[BulletType["BLaser"] = 12] = "BLaser";
    BulletType[BulletType["BLaser2"] = 13] = "BLaser2";
    BulletType[BulletType["B12"] = 14] = "B12";
    BulletType[BulletType["B13"] = 15] = "B13";
    BulletType[BulletType["B14"] = 16] = "B14";
    BulletType[BulletType["B15"] = 17] = "B15";
    BulletType[BulletType["B16"] = 18] = "B16";
    BulletType[BulletType["BBossGP3_1"] = 19] = "BBossGP3_1";
    BulletType[BulletType["BBossGP3_2"] = 20] = "BBossGP3_2";
})(BulletType = exports.BulletType || (exports.BulletType = {}));
var ShipType;
(function (ShipType) {
    ShipType[ShipType["LeftShip"] = 0] = "LeftShip";
    ShipType[ShipType["RightShip"] = 1] = "RightShip";
    ShipType[ShipType["S1"] = 2] = "S1";
    ShipType[ShipType["S2"] = 3] = "S2";
    ShipType[ShipType["S3"] = 4] = "S3";
    ShipType[ShipType["S4"] = 5] = "S4";
    ShipType[ShipType["S5"] = 6] = "S5";
})(ShipType = exports.ShipType || (exports.ShipType = {}));
var GameStateType;
(function (GameStateType) {
    GameStateType[GameStateType["INIT"] = 0] = "INIT";
    GameStateType[GameStateType["READY"] = 1] = "READY";
    GameStateType[GameStateType["PLAYING"] = 2] = "PLAYING";
    GameStateType[GameStateType["ENDGAME"] = 3] = "ENDGAME";
})(GameStateType = exports.GameStateType || (exports.GameStateType = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxFbnVtRGVmaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBWSxVQXVCWDtBQXZCRCxXQUFZLFVBQVU7SUFFbEIsdUNBQU0sQ0FBQTtJQUNOLHVDQUFNLENBQUE7SUFDTix1Q0FBTSxDQUFBO0lBQ04sdUNBQU0sQ0FBQTtJQUNOLHVDQUFNLENBQUE7SUFDTiwrQ0FBVSxDQUFBO0lBQ1YsdURBQWMsQ0FBQTtJQUNkLHVEQUFjLENBQUE7SUFDZCx1Q0FBTSxDQUFBO0lBQ04sdUNBQU0sQ0FBQTtJQUNOLHdDQUFPLENBQUE7SUFDUCx3Q0FBTyxDQUFBO0lBQ1AsZ0RBQVcsQ0FBQTtJQUNYLGtEQUFZLENBQUE7SUFDWiwwQ0FBUSxDQUFBO0lBQ1IsMENBQVEsQ0FBQTtJQUNSLDBDQUFRLENBQUE7SUFDUiwwQ0FBUSxDQUFBO0lBQ1IsMENBQVEsQ0FBQTtJQUNSLHdEQUFlLENBQUE7SUFDZix3REFBZSxDQUFBO0FBQ25CLENBQUMsRUF2QlcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUF1QnJCO0FBRUQsSUFBWSxRQVNYO0FBVEQsV0FBWSxRQUFRO0lBRWpCLCtDQUFZLENBQUE7SUFDWixpREFBYSxDQUFBO0lBQ2IsbUNBQU0sQ0FBQTtJQUNOLG1DQUFNLENBQUE7SUFDTixtQ0FBTSxDQUFBO0lBQ04sbUNBQU0sQ0FBQTtJQUNOLG1DQUFNLENBQUE7QUFDVCxDQUFDLEVBVFcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFTbkI7QUFDRCxJQUFZLGFBTVg7QUFORCxXQUFZLGFBQWE7SUFFckIsaURBQVEsQ0FBQTtJQUNSLG1EQUFTLENBQUE7SUFDVCx1REFBVyxDQUFBO0lBQ1gsdURBQVcsQ0FBQTtBQUNmLENBQUMsRUFOVyxhQUFhLEdBQWIscUJBQWEsS0FBYixxQkFBYSxRQU14QiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEJ1bGxldFR5cGVcclxue1xyXG4gICAgQjEgPSAwLFxyXG4gICAgQjIgPSAxLFxyXG4gICAgQjMgPSAyLFxyXG4gICAgQjQgPSAzLFxyXG4gICAgQjUgPSA0LFxyXG4gICAgQkVuZW15ID0gNSxcclxuICAgIEJCb3NzR1AyXzEgPSA2LFxyXG4gICAgQkJvc3NHUDJfMiA9IDcsXHJcbiAgICBCNiA9IDgsXHJcbiAgICBCNyA9IDksXHJcbiAgICBCOCA9IDEwLFxyXG4gICAgQjkgPSAxMSxcclxuICAgIEJMYXNlciA9IDEyLFxyXG4gICAgQkxhc2VyMiA9IDEzLFxyXG4gICAgQjEyID0gMTQsXHJcbiAgICBCMTMgPSAxNSwgXHJcbiAgICBCMTQgPSAxNixcclxuICAgIEIxNSA9IDE3LFxyXG4gICAgQjE2ID0gMTgsXHJcbiAgICBCQm9zc0dQM18xID0gMTksXHJcbiAgICBCQm9zc0dQM18yID0gMjAsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNoaXBUeXBlXHJcbntcclxuICAgTGVmdFNoaXAgPSAwLFxyXG4gICBSaWdodFNoaXAgPSAxLFxyXG4gICBTMSA9IDIsXHJcbiAgIFMyID0gMyxcclxuICAgUzMgPSA0LFxyXG4gICBTNCA9IDUsXHJcbiAgIFM1ID0gNixcclxufVxyXG5leHBvcnQgZW51bSBHYW1lU3RhdGVUeXBlXHJcbntcclxuICAgIElOSVQgPSAwLFxyXG4gICAgUkVBRFkgPSAxLFxyXG4gICAgUExBWUlORyA9IDIsXHJcbiAgICBFTkRHQU1FID0gMyxcclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Singleton.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2e85eDq/b5IMKv3xCkYO/e3', 'Singleton');
// Scripts/Common/Singleton.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Singleton = /** @class */ (function (_super) {
    __extends(Singleton, _super);
    function Singleton() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Singleton.Instance = function (c) {
        if (this._instance == null) {
            this._instance = new c();
        }
        return this._instance;
    };
    Singleton._instance = null;
    return Singleton;
}(cc.Component));
exports.default = Singleton;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxTaW5nbGV0b24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFBMEMsNkJBQVk7SUFBdEQ7O0lBUUEsQ0FBQztJQVBpQixrQkFBUSxHQUF0QixVQUEwQixDQUFlO1FBQ3JDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLEVBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFDYSxtQkFBUyxHQUFHLElBQUksQ0FBQztJQUNuQyxnQkFBQztDQVJELEFBUUMsQ0FSeUMsRUFBRSxDQUFDLFNBQVMsR0FRckQ7a0JBUm9CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2luZ2xldG9uPFQ+IGV4dGVuZHMgY2MuQ29tcG9uZW50e1xyXG4gICAgcHVibGljIHN0YXRpYyBJbnN0YW5jZTxUPihjOiB7bmV3KCk6IFQ7IH0pIDogVHtcclxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2UgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IGMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/KeyEvent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ca24dO1puZM+Jw6VBTeYDdZ', 'KeyEvent');
// Scripts/Common/KeyEvent.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var KeyEvent = {
    BeingHit: "BeingHit",
    PopupRevive: "PopupRevive",
    EndGame: "EndGame"
};
exports.default = KeyEvent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxLZXlFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLElBQUksUUFBUSxHQUNaO0lBQ0ksUUFBUSxFQUFFLFVBQVU7SUFDcEIsV0FBVyxFQUFFLGFBQWE7SUFDMUIsT0FBTyxFQUFFLFNBQVM7Q0FDckIsQ0FBQTtBQUNELGtCQUFlLFFBQVEsQ0FBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBLZXlFdmVudCB7XHJcbiAgICBCZWluZ0hpdDogc3RyaW5nLFxyXG4gICAgUG9wdXBSZXZpdmU6IHN0cmluZyxcclxuICAgIEVuZEdhbWU6IHN0cmluZ1xyXG59XHJcbmxldCBLZXlFdmVudDogS2V5RXZlbnQgPVxyXG57XHJcbiAgICBCZWluZ0hpdDogXCJCZWluZ0hpdFwiLFxyXG4gICAgUG9wdXBSZXZpdmU6IFwiUG9wdXBSZXZpdmVcIixcclxuICAgIEVuZEdhbWU6IFwiRW5kR2FtZVwiXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgS2V5RXZlbnQiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/DestroyVFX.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50eb6cZwRxNLpK8cBvybOe6', 'DestroyVFX');
// Scripts/Common/DestroyVFX.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DestroyVFX = /** @class */ (function (_super) {
    __extends(DestroyVFX, _super);
    function DestroyVFX() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.timming = 0.3;
        return _this;
    }
    DestroyVFX.prototype.start = function () {
        var _this = this;
        this.scheduleOnce(function () {
            _this.node.destroy();
        }, this.timming);
    };
    __decorate([
        property(cc.Float)
    ], DestroyVFX.prototype, "timming", void 0);
    DestroyVFX = __decorate([
        ccclass
    ], DestroyVFX);
    return DestroyVFX;
}(cc.Component));
exports.default = DestroyVFX;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxEZXN0cm95VkZYLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsa0JBQXFDLEVBQW5DLG9CQUFPLEVBQUUsc0JBQTBCLENBQUM7QUFHNUM7SUFBd0MsOEJBQVk7SUFEcEQ7UUFBQSxxRUFTQztRQU5HLGFBQU8sR0FBVyxHQUFHLENBQUM7O0lBTTFCLENBQUM7SUFMRywwQkFBSyxHQUFMO1FBQUEsaUJBSUM7UUFIRyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2QsS0FBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN4QixDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFMRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOytDQUNHO0lBRkwsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQVE5QjtJQUFELGlCQUFDO0NBUkQsQUFRQyxDQVJ1QyxFQUFFLENBQUMsU0FBUyxHQVFuRDtrQkFSb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXN0cm95VkZYIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eShjYy5GbG9hdClcclxuICAgIHRpbW1pbmc6IG51bWJlciA9IDAuMztcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICB9LCB0aGlzLnRpbW1pbmcpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/SoundManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6bf1dBWiqtF9YIlV2JETefC', 'SoundManager');
// Scripts/Common/SoundManager.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SoundManager = /** @class */ (function (_super) {
    __extends(SoundManager, _super);
    function SoundManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.BgSound = null;
        // @property({
        //     type: cc.AudioClip
        // })
        // VoiceSound: cc.AudioClip = null;
        //
        // @property({
        //     type: cc.AudioClip
        // })
        // round1: cc.AudioClip = null;
        // @property({
        //     type: cc.AudioClip
        // })
        // round2: cc.AudioClip = null;
        // @property({
        //     type: cc.AudioClip
        // })
        // soundDE: cc.AudioClip = null;
        // @property({
        //     type: cc.AudioClip
        // })
        // soundGunAuto: cc.AudioClip = null;
        _this.JokerVoice = null;
        _this.TouchSound = null;
        return _this;
    }
    SoundManager.prototype.PlaySoundGame = function () {
        cc.audioEngine.playEffect(this.BgSound, false);
        // cc.audioEngine.playEffect(this.VoiceSound, false);
    };
    __decorate([
        property({
            type: cc.AudioClip
        })
    ], SoundManager.prototype, "BgSound", void 0);
    __decorate([
        property({
            type: cc.AudioClip
        })
    ], SoundManager.prototype, "JokerVoice", void 0);
    __decorate([
        property({
            type: cc.AudioClip
        })
    ], SoundManager.prototype, "TouchSound", void 0);
    SoundManager = __decorate([
        ccclass
    ], SoundManager);
    return SoundManager;
}(cc.Component));
exports.default = SoundManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxTb3VuZE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxrQkFBcUMsRUFBbkMsb0JBQU8sRUFBRSxzQkFBMEIsQ0FBQztBQUc1QztJQUEwQyxnQ0FBWTtJQUR0RDtRQUFBLHFFQTBDQztRQXJDRyxhQUFPLEdBQWlCLElBQUksQ0FBQztRQUM3QixjQUFjO1FBQ2QseUJBQXlCO1FBQ3pCLEtBQUs7UUFDTCxtQ0FBbUM7UUFDbkMsRUFBRTtRQUNGLGNBQWM7UUFDZCx5QkFBeUI7UUFDekIsS0FBSztRQUNMLCtCQUErQjtRQUMvQixjQUFjO1FBQ2QseUJBQXlCO1FBQ3pCLEtBQUs7UUFDTCwrQkFBK0I7UUFDL0IsY0FBYztRQUNkLHlCQUF5QjtRQUN6QixLQUFLO1FBQ0wsZ0NBQWdDO1FBQ2hDLGNBQWM7UUFDZCx5QkFBeUI7UUFDekIsS0FBSztRQUNMLHFDQUFxQztRQUlyQyxnQkFBVSxHQUFpQixJQUFJLENBQUM7UUFJaEMsZ0JBQVUsR0FBaUIsSUFBSSxDQUFDOztJQVFwQyxDQUFDO0lBTEcsb0NBQWEsR0FBYjtRQUVJLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEQscURBQXFEO0lBQ3hELENBQUM7SUFwQ0Q7UUFIQyxRQUFRLENBQUM7WUFDTixJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVM7U0FDckIsQ0FBQztpREFDMkI7SUF5QjdCO1FBSEMsUUFBUSxDQUFDO1lBQ04sSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTO1NBQ3JCLENBQUM7b0RBQzhCO0lBSWhDO1FBSEMsUUFBUSxDQUFDO1lBQ04sSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTO1NBQ3JCLENBQUM7b0RBQzhCO0lBakNmLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0F5Q2hDO0lBQUQsbUJBQUM7Q0F6Q0QsQUF5Q0MsQ0F6Q3lDLEVBQUUsQ0FBQyxTQUFTLEdBeUNyRDtrQkF6Q29CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2xvYmFsIGZyb20gXCIuL0Jhc2UvR2xvYmFsXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291bmRNYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICB9KVxyXG4gICAgQmdTb3VuZDogY2MuQXVkaW9DbGlwID0gbnVsbDtcclxuICAgIC8vIEBwcm9wZXJ0eSh7XHJcbiAgICAvLyAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAvLyB9KVxyXG4gICAgLy8gVm9pY2VTb3VuZDogY2MuQXVkaW9DbGlwID0gbnVsbDtcclxuICAgIC8vXHJcbiAgICAvLyBAcHJvcGVydHkoe1xyXG4gICAgLy8gICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgLy8gfSlcclxuICAgIC8vIHJvdW5kMTogY2MuQXVkaW9DbGlwID0gbnVsbDtcclxuICAgIC8vIEBwcm9wZXJ0eSh7XHJcbiAgICAvLyAgICAgdHlwZTogY2MuQXVkaW9DbGlwXHJcbiAgICAvLyB9KVxyXG4gICAgLy8gcm91bmQyOiBjYy5BdWRpb0NsaXAgPSBudWxsO1xyXG4gICAgLy8gQHByb3BlcnR5KHtcclxuICAgIC8vICAgICB0eXBlOiBjYy5BdWRpb0NsaXBcclxuICAgIC8vIH0pXHJcbiAgICAvLyBzb3VuZERFOiBjYy5BdWRpb0NsaXAgPSBudWxsO1xyXG4gICAgLy8gQHByb3BlcnR5KHtcclxuICAgIC8vICAgICB0eXBlOiBjYy5BdWRpb0NsaXBcclxuICAgIC8vIH0pXHJcbiAgICAvLyBzb3VuZEd1bkF1dG86IGNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgfSlcclxuICAgIEpva2VyVm9pY2U6IGNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgfSlcclxuICAgIFRvdWNoU291bmQ6IGNjLkF1ZGlvQ2xpcCA9IG51bGw7XHJcblxyXG5cclxuICAgIFBsYXlTb3VuZEdhbWUoKVxyXG4gICAge1xyXG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QodGhpcy5CZ1NvdW5kLCBmYWxzZSk7XHJcbiAgICAgICAvLyBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KHRoaXMuVm9pY2VTb3VuZCwgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/AdManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '46290lxct5FwYsg5tOn8sdV', 'AdManager');
// Scripts/Common/AdManager.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    androidLink: {
      "default": ''
    },
    iosLink: {
      "default": ''
    },
    defaultLink: {
      "default": ''
    }
  },
  openAdUrl: function openAdUrl() {
    var clickTag = '';
    window.androidLink = this.androidLink;
    window.iosLink = this.iosLink;
    window.defaultLink = this.defaultLink;

    if (window.openAdUrl) {
      window.openAdUrl();
    } else {
      window.open();
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxBZE1hbmFnZXIuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJhbmRyb2lkTGluayIsImlvc0xpbmsiLCJkZWZhdWx0TGluayIsIm9wZW5BZFVybCIsImNsaWNrVGFnIiwid2luZG93Iiwib3BlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFdBQVcsRUFBRTtBQUNULGlCQUFTO0FBREEsS0FETDtBQUlSQyxJQUFBQSxPQUFPLEVBQUU7QUFDTCxpQkFBUztBQURKLEtBSkQ7QUFPUkMsSUFBQUEsV0FBVyxFQUFFO0FBQ1QsaUJBQVM7QUFEQTtBQVBMLEdBSFA7QUFlTEMsRUFBQUEsU0FBUyxFQUFFLHFCQUFZO0FBQ25CLFFBQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0FDLElBQUFBLE1BQU0sQ0FBQ0wsV0FBUCxHQUFxQixLQUFLQSxXQUExQjtBQUNBSyxJQUFBQSxNQUFNLENBQUNKLE9BQVAsR0FBaUIsS0FBS0EsT0FBdEI7QUFDQUksSUFBQUEsTUFBTSxDQUFDSCxXQUFQLEdBQXFCLEtBQUtBLFdBQTFCOztBQUNBLFFBQUlHLE1BQU0sQ0FBQ0YsU0FBWCxFQUFzQjtBQUNsQkUsTUFBQUEsTUFBTSxDQUFDRixTQUFQO0FBQ0gsS0FGRCxNQUVPO0FBQ0hFLE1BQUFBLE1BQU0sQ0FBQ0MsSUFBUDtBQUNIO0FBQ0o7QUF6QkksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBhbmRyb2lkTGluazoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW9zTGluazoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVmYXVsdExpbms6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogJydcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5BZFVybDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbGlja1RhZyA9ICcnO1xyXG4gICAgICAgIHdpbmRvdy5hbmRyb2lkTGluayA9IHRoaXMuYW5kcm9pZExpbms7XHJcbiAgICAgICAgd2luZG93Lmlvc0xpbmsgPSB0aGlzLmlvc0xpbms7XHJcbiAgICAgICAgd2luZG93LmRlZmF1bHRMaW5rID0gdGhpcy5kZWZhdWx0TGluaztcclxuICAgICAgICBpZiAod2luZG93Lm9wZW5BZFVybCkge1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbkFkVXJsKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Controller/ObjectCongrat.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b2f14XvrkJHc71E+J1nOeE3', 'ObjectCongrat');
// Scripts/Controller/ObjectCongrat.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ObjectCongrat = /** @class */ (function (_super) {
    __extends(ObjectCongrat, _super);
    function ObjectCongrat() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.img = null;
        _this.arraySprites = [];
        return _this;
    }
    ObjectCongrat.prototype.SetUp = function (state) {
        var _this = this;
        this.node.stopAllActions();
        this.unscheduleAllCallbacks();
        this.img.spriteFrame = this.arraySprites[state];
        this.node.active = true;
        this.node.scale = 1;
        this.node.opacity = 0;
        var action = cc.scaleTo(0.05, 1);
        var action2 = cc.fadeIn(0.2);
        var action3 = cc.fadeOut(0.4);
        this.node.runAction(action);
        this.node.runAction(action2);
        this.scheduleOnce(function () {
            _this.node.runAction(action3);
        }, 0.4);
    };
    __decorate([
        property(cc.Sprite)
    ], ObjectCongrat.prototype, "img", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], ObjectCongrat.prototype, "arraySprites", void 0);
    ObjectCongrat = __decorate([
        ccclass
    ], ObjectCongrat);
    return ObjectCongrat;
}(cc.Component));
exports.default = ObjectCongrat;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29udHJvbGxlclxcT2JqZWN0Q29uZ3JhdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLGtCQUFxQyxFQUFuQyxvQkFBTyxFQUFFLHNCQUEwQixDQUFDO0FBRzVDO0lBQTJDLGlDQUFZO0lBRHZEO1FBQUEscUVBc0JDO1FBbkJHLFNBQUcsR0FBYyxJQUFJLENBQUM7UUFFdEIsa0JBQVksR0FBcUIsRUFBRSxDQUFDOztJQWlCeEMsQ0FBQztJQWhCRyw2QkFBSyxHQUFMLFVBQU0sS0FBYTtRQUFuQixpQkFlQztRQWRHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUN0QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNkLEtBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2pDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNaLENBQUM7SUFsQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzs4Q0FDRTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO3VEQUNXO0lBSm5CLGFBQWE7UUFEakMsT0FBTztPQUNhLGFBQWEsQ0FxQmpDO0lBQUQsb0JBQUM7Q0FyQkQsQUFxQkMsQ0FyQjBDLEVBQUUsQ0FBQyxTQUFTLEdBcUJ0RDtrQkFyQm9CLGFBQWEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0Q29uZ3JhdCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlKVxyXG4gICAgaW1nOiBjYy5TcHJpdGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgYXJyYXlTcHJpdGVzOiBjYy5TcHJpdGVGcmFtZVtdID0gW107XHJcbiAgICBTZXRVcChzdGF0ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlQWxsQ2FsbGJhY2tzKCk7XHJcbiAgICAgICAgdGhpcy5pbWcuc3ByaXRlRnJhbWUgPSB0aGlzLmFycmF5U3ByaXRlc1tzdGF0ZV07XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgbGV0IGFjdGlvbiA9IGNjLnNjYWxlVG8oMC4wNSwgMSk7XHJcbiAgICAgICAgbGV0IGFjdGlvbjIgPSBjYy5mYWRlSW4oMC4yKTtcclxuICAgICAgICBsZXQgYWN0aW9uMyA9IGNjLmZhZGVPdXQoMC40KTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihhY3Rpb24yKTtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0aW9uMyk7XHJcbiAgICAgICAgfSwgMC40KTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Utility.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'eef84kuWQVFqbf8OpphTyHp', 'Utility');
// Scripts/Common/Utility.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Singleton_1 = require("./Singleton");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Utility = /** @class */ (function (_super) {
    __extends(Utility, _super);
    function Utility() {
        var _this = _super.call(this) || this;
        Utility_1._instance = _this;
        return _this;
    }
    Utility_1 = Utility;
    Utility.RandomRangeFloat = function (lower, upper) {
        return Math.random() * (upper - lower) + lower;
        //return Math.floor(Math.random() * (lower - lower)) + lower;
    };
    Utility.RandomRangeInteger = function (lower, upper) {
        return Math.round(Math.random() * (upper - lower) + lower);
    };
    Utility.Distance = function (vec1, vec2) {
        var Distance = Math.sqrt(Math.pow(vec1.x - vec2.x, 2) +
            Math.pow(vec1.y - vec2.y, 2));
        return Distance;
    };
    Utility.CaculatorDuration = function (vec1, vec2, speed) {
        var distance = this.Distance(vec1, vec2);
        var duration = distance / speed;
        return duration;
    };
    Utility.LookAt = function (startPos, endPos) {
        var direction = endPos.sub(startPos);
        var directionNormalized = direction.normalize();
        var radianAngle = Math.atan2(directionNormalized.y, directionNormalized.x);
        var angle = cc.misc.radiansToDegrees(radianAngle);
        //return {
        // direction: direction,
        // directionNormalized: directionNormalized,
        // radianAngle: radianAngle,
        //angle: angle
        //}
        return angle;
    };
    Utility.BetweenDegree = function (comVec, dirVec) {
        var angleDegree = Math.atan2(dirVec.y - comVec.y, dirVec.x - comVec.x) * 180 / Math.PI;
        return angleDegree - 90;
    };
    Utility.CaculatorDegree = function (Target) {
        var r = Math.atan2(Target.y, Target.x);
        var degree = r * 180 / (Math.PI);
        degree = 360 - degree + 90;
        return degree;
    };
    Utility.ConvertPosToCanvasByNode = function (objectParent, objectChildren) {
        var pos = cc.Canvas.instance.node.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(objectChildren.getPosition()));
        return pos;
    };
    Utility.ConvertPosToCanvasByVector = function (objectParent, vector) {
        var pos = cc.Canvas.instance.node.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(vector));
        return pos;
    };
    Utility.ConvertPosToHigherParentByNode = function (objectParentHigher, objectParent, objectChildren) {
        var pos = objectParentHigher.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(objectChildren.getPosition()));
        return pos;
    };
    Utility.ConvertPosToParentByVector = function (objectParentHigher, objectParent, vector) {
        var pos = objectParentHigher.convertToNodeSpaceAR(objectParent.convertToWorldSpaceAR(vector));
        return pos;
    };
    var Utility_1;
    Utility = Utility_1 = __decorate([
        ccclass
    ], Utility);
    return Utility;
}(Singleton_1.default));
exports.default = Utility;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxVdGlsaXR5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFvQztBQUU5QixJQUFBLGtCQUFxQyxFQUFuQyxvQkFBTyxFQUFFLHNCQUEwQixDQUFDO0FBRzVDO0lBQXFDLDJCQUFrQjtJQUNuRDtRQUFBLFlBQ0ksaUJBQU8sU0FFVjtRQURHLFNBQU8sQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDOztJQUM3QixDQUFDO2dCQUpnQixPQUFPO0lBS2pCLHdCQUFnQixHQUF2QixVQUF3QixLQUFhLEVBQUUsS0FBYTtRQUNoRCxPQUFPLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDL0MsNkRBQTZEO0lBQ2pFLENBQUM7SUFDTSwwQkFBa0IsR0FBekIsVUFBMEIsS0FBYSxFQUFFLEtBQWE7UUFDbEQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBQ00sZ0JBQVEsR0FBZixVQUFnQixJQUFhLEVBQUUsSUFBYTtRQUN4QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqRCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFDTSx5QkFBaUIsR0FBeEIsVUFBeUIsSUFBYSxFQUFFLElBQWEsRUFBRSxLQUFhO1FBQ2hFLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pDLElBQUksUUFBUSxHQUFHLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDaEMsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUNhLGNBQU0sR0FBcEIsVUFBcUIsUUFBaUIsRUFBRSxNQUFlO1FBQ25ELElBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkMsSUFBTSxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbEQsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0UsSUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUVwRCxVQUFVO1FBQ1Ysd0JBQXdCO1FBQ3hCLDRDQUE0QztRQUM1Qyw0QkFBNEI7UUFDNUIsY0FBYztRQUNkLEdBQUc7UUFDSCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBQ00scUJBQWEsR0FBcEIsVUFBcUIsTUFBZSxFQUFFLE1BQWU7UUFDakQsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFDdkYsT0FBTyxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFDTSx1QkFBZSxHQUF0QixVQUF1QixNQUFlO1FBQ2xDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDM0IsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUNNLGdDQUF3QixHQUEvQixVQUFnQyxZQUFxQixFQUFFLGNBQXVCO1FBQzFFLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN6SCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFDTSxrQ0FBMEIsR0FBakMsVUFBa0MsWUFBcUIsRUFBRSxNQUFlO1FBQ3BFLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNuRyxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFDTSxzQ0FBOEIsR0FBckMsVUFBc0Msa0JBQTJCLEVBQUUsWUFBcUIsRUFBRSxjQUF1QjtRQUM3RyxJQUFJLEdBQUcsR0FBRyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwSCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFDTSxrQ0FBMEIsR0FBakMsVUFBa0Msa0JBQTJCLEVBQUUsWUFBcUIsRUFBRSxNQUFlO1FBQ2pHLElBQUksR0FBRyxHQUFHLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzlGLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQzs7SUE3RGdCLE9BQU87UUFEM0IsT0FBTztPQUNhLE9BQU8sQ0E4RDNCO0lBQUQsY0FBQztDQTlERCxBQThEQyxDQTlEb0MsbUJBQVMsR0E4RDdDO2tCQTlEb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaW5nbGV0b24gZnJvbSBcIi4vU2luZ2xldG9uXCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbGl0eSBleHRlbmRzIFNpbmdsZXRvbjxVdGlsaXR5PiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIFV0aWxpdHkuX2luc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuICAgIHN0YXRpYyBSYW5kb21SYW5nZUZsb2F0KGxvd2VyOiBudW1iZXIsIHVwcGVyOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqICh1cHBlciAtIGxvd2VyKSArIGxvd2VyO1xyXG4gICAgICAgIC8vcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChsb3dlciAtIGxvd2VyKSkgKyBsb3dlcjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBSYW5kb21SYW5nZUludGVnZXIobG93ZXI6IG51bWJlciwgdXBwZXI6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlcikgKyBsb3dlcik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgRGlzdGFuY2UodmVjMTogY2MuVmVjMiwgdmVjMjogY2MuVmVjMikge1xyXG4gICAgICAgIGxldCBEaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh2ZWMxLnggLSB2ZWMyLngsIDIpICtcclxuICAgICAgICAgICAgTWF0aC5wb3codmVjMS55IC0gdmVjMi55LCAyKSk7XHJcbiAgICAgICAgcmV0dXJuIERpc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIENhY3VsYXRvckR1cmF0aW9uKHZlYzE6IGNjLlZlYzIsIHZlYzI6IGNjLlZlYzIsIHNwZWVkOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLkRpc3RhbmNlKHZlYzEsIHZlYzIpO1xyXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IGRpc3RhbmNlIC8gc3BlZWQ7XHJcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBMb29rQXQoc3RhcnRQb3M6IGNjLlZlYzMsIGVuZFBvczogY2MuVmVjMykge1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGVuZFBvcy5zdWIoc3RhcnRQb3MpO1xyXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbk5vcm1hbGl6ZWQgPSBkaXJlY3Rpb24ubm9ybWFsaXplKCk7XHJcbiAgICAgICAgY29uc3QgcmFkaWFuQW5nbGUgPSBNYXRoLmF0YW4yKGRpcmVjdGlvbk5vcm1hbGl6ZWQueSwgZGlyZWN0aW9uTm9ybWFsaXplZC54KTtcclxuICAgICAgICBjb25zdCBhbmdsZSA9IGNjLm1pc2MucmFkaWFuc1RvRGVncmVlcyhyYWRpYW5BbmdsZSk7XHJcblxyXG4gICAgICAgIC8vcmV0dXJuIHtcclxuICAgICAgICAvLyBkaXJlY3Rpb246IGRpcmVjdGlvbixcclxuICAgICAgICAvLyBkaXJlY3Rpb25Ob3JtYWxpemVkOiBkaXJlY3Rpb25Ob3JtYWxpemVkLFxyXG4gICAgICAgIC8vIHJhZGlhbkFuZ2xlOiByYWRpYW5BbmdsZSxcclxuICAgICAgICAvL2FuZ2xlOiBhbmdsZVxyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIHJldHVybiBhbmdsZTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBCZXR3ZWVuRGVncmVlKGNvbVZlYzogY2MuVmVjMiwgZGlyVmVjOiBjYy5WZWMyKSB7XHJcbiAgICAgICAgbGV0IGFuZ2xlRGVncmVlID0gTWF0aC5hdGFuMihkaXJWZWMueSAtIGNvbVZlYy55LCBkaXJWZWMueCAtIGNvbVZlYy54KSAqIDE4MCAvIE1hdGguUEk7XHJcbiAgICAgICAgcmV0dXJuIGFuZ2xlRGVncmVlIC0gOTA7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ2FjdWxhdG9yRGVncmVlKFRhcmdldDogY2MuVmVjMikge1xyXG4gICAgICAgIHZhciByID0gTWF0aC5hdGFuMihUYXJnZXQueSwgVGFyZ2V0LngpO1xyXG4gICAgICAgIHZhciBkZWdyZWUgPSByICogMTgwIC8gKE1hdGguUEkpO1xyXG4gICAgICAgIGRlZ3JlZSA9IDM2MCAtIGRlZ3JlZSArIDkwO1xyXG4gICAgICAgIHJldHVybiBkZWdyZWU7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ29udmVydFBvc1RvQ2FudmFzQnlOb2RlKG9iamVjdFBhcmVudDogY2MuTm9kZSwgb2JqZWN0Q2hpbGRyZW46IGNjLk5vZGUpIHtcclxuICAgICAgICB2YXIgcG9zID0gY2MuQ2FudmFzLmluc3RhbmNlLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIob2JqZWN0UGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihvYmplY3RDaGlsZHJlbi5nZXRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuICAgIHN0YXRpYyBDb252ZXJ0UG9zVG9DYW52YXNCeVZlY3RvcihvYmplY3RQYXJlbnQ6IGNjLk5vZGUsIHZlY3RvcjogY2MuVmVjMikge1xyXG4gICAgICAgIHZhciBwb3MgPSBjYy5DYW52YXMuaW5zdGFuY2Uubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihvYmplY3RQYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHZlY3RvcikpO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgQ29udmVydFBvc1RvSGlnaGVyUGFyZW50QnlOb2RlKG9iamVjdFBhcmVudEhpZ2hlcjogY2MuTm9kZSwgb2JqZWN0UGFyZW50OiBjYy5Ob2RlLCBvYmplY3RDaGlsZHJlbjogY2MuTm9kZSkge1xyXG4gICAgICAgIHZhciBwb3MgPSBvYmplY3RQYXJlbnRIaWdoZXIuY29udmVydFRvTm9kZVNwYWNlQVIob2JqZWN0UGFyZW50LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihvYmplY3RDaGlsZHJlbi5nZXRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuICAgIHN0YXRpYyBDb252ZXJ0UG9zVG9QYXJlbnRCeVZlY3RvcihvYmplY3RQYXJlbnRIaWdoZXI6IGNjLk5vZGUsIG9iamVjdFBhcmVudDogY2MuTm9kZSwgdmVjdG9yOiBjYy5WZWMyKSB7XHJcbiAgICAgICAgdmFyIHBvcyA9IG9iamVjdFBhcmVudEhpZ2hlci5jb252ZXJ0VG9Ob2RlU3BhY2VBUihvYmplY3RQYXJlbnQuY29udmVydFRvV29ybGRTcGFjZUFSKHZlY3RvcikpO1xyXG4gICAgICAgIHJldHVybiBwb3M7XHJcbiAgICB9XHJcbn1cclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/CanvasResizer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '24a43Hqj0dJErEdK1GTKjWq', 'CanvasResizer');
// Scripts/Common/CanvasResizer.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var CanvasResizer = /** @class */ (function (_super) {
    __extends(CanvasResizer, _super);
    function CanvasResizer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.designResolution = new cc.Size(1280, 720);
        _this.lastWitdh = 0;
        _this.lastHeight = 0;
        return _this;
    }
    CanvasResizer.prototype.onLoad = function () {
        this.canvas = this.node.getComponent(cc.Canvas);
        this.updateCanvas();
    };
    CanvasResizer.prototype.update = function (dt) {
        this.updateCanvas();
    };
    CanvasResizer.prototype.updateCanvas = function () {
        var frameSize = cc.view.getFrameSize();
        // cc.log(frameSize );
        if (this.lastWitdh !== frameSize.width || this.lastHeight !== frameSize.height) {
            this.lastWitdh = frameSize.width;
            this.lastHeight = frameSize.height;
            if (this.designResolution.width / this.designResolution.height > frameSize.width / frameSize.height) {
                var newDesignSize = cc.size(this.designResolution.width, this.designResolution.width * (frameSize.height / frameSize.width));
                this.canvas.designResolution = newDesignSize;
                cc.log("update canvas size: " + newDesignSize);
            }
            else {
                var newDesignSize = cc.size(this.designResolution.height * (frameSize.width / frameSize.height), this.designResolution.height);
                this.canvas.designResolution = newDesignSize;
                cc.log("update canvas size: " + newDesignSize);
            }
        }
    };
    __decorate([
        property
    ], CanvasResizer.prototype, "designResolution", void 0);
    CanvasResizer = __decorate([
        ccclass,
        requireComponent(cc.Canvas)
    ], CanvasResizer);
    return CanvasResizer;
}(cc.Component));
exports.default = CanvasResizer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxDYW52YXNSZXNpemVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsa0JBQXVELEVBQXJELG9CQUFPLEVBQUUsc0JBQVEsRUFBRSxzQ0FBa0MsQ0FBQztBQUk5RDtJQUEyQyxpQ0FBWTtJQUZ2RDtRQUFBLHFFQXVDQztRQWxDRyxzQkFBZ0IsR0FBWSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRW5ELGVBQVMsR0FBVyxDQUFDLENBQUM7UUFDdEIsZ0JBQVUsR0FBVyxDQUFDLENBQUM7O0lBK0IzQixDQUFDO0lBNUJHLDhCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELDhCQUFNLEdBQU4sVUFBTyxFQUFFO1FBQ0wsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRCxvQ0FBWSxHQUFaO1FBQ0ksSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN2QyxzQkFBc0I7UUFDdEIsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxTQUFTLENBQUMsTUFBTSxFQUFFO1lBRTVFLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUNqQyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7WUFFbkMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFO2dCQUNqRyxJQUFJLGFBQWEsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzdILElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO2dCQUM3QyxFQUFFLENBQUMsR0FBRyxDQUFDLHNCQUFzQixHQUFHLGFBQWEsQ0FBQyxDQUFDO2FBQ2xEO2lCQUFNO2dCQUNILElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDL0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxhQUFhLENBQUM7Z0JBQzdDLEVBQUUsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEdBQUcsYUFBYSxDQUFDLENBQUM7YUFDbEQ7U0FDSjtJQUNMLENBQUM7SUFqQ0Q7UUFEQyxRQUFROzJEQUMwQztJQUhsQyxhQUFhO1FBRmpDLE9BQU87UUFDUCxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO09BQ1AsYUFBYSxDQXFDakM7SUFBRCxvQkFBQztDQXJDRCxBQXFDQyxDQXJDMEMsRUFBRSxDQUFDLFNBQVMsR0FxQ3REO2tCQXJDb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHksIHJlcXVpcmVDb21wb25lbnQgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5AcmVxdWlyZUNvbXBvbmVudChjYy5DYW52YXMpXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1Jlc2l6ZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZGVzaWduUmVzb2x1dGlvbjogY2MuU2l6ZSA9IG5ldyBjYy5TaXplKDEyODAsIDcyMCk7XHJcblxyXG4gICAgbGFzdFdpdGRoOiBudW1iZXIgPSAwO1xyXG4gICAgbGFzdEhlaWdodDogbnVtYmVyID0gMDtcclxuICAgIGNhbnZhczogY2MuQ2FudmFzO1xyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuQ2FudmFzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNhbnZhcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ2FudmFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2FudmFzKCkge1xyXG4gICAgICAgIHZhciBmcmFtZVNpemUgPSBjYy52aWV3LmdldEZyYW1lU2l6ZSgpO1xyXG4gICAgICAgIC8vIGNjLmxvZyhmcmFtZVNpemUgKTtcclxuICAgICAgICBpZiAodGhpcy5sYXN0V2l0ZGggIT09IGZyYW1lU2l6ZS53aWR0aCB8fCB0aGlzLmxhc3RIZWlnaHQgIT09IGZyYW1lU2l6ZS5oZWlnaHQpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFzdFdpdGRoID0gZnJhbWVTaXplLndpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RIZWlnaHQgPSBmcmFtZVNpemUuaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVzaWduUmVzb2x1dGlvbi53aWR0aCAvIHRoaXMuZGVzaWduUmVzb2x1dGlvbi5oZWlnaHQgPiBmcmFtZVNpemUud2lkdGggLyBmcmFtZVNpemUuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3RGVzaWduU2l6ZSA9IGNjLnNpemUodGhpcy5kZXNpZ25SZXNvbHV0aW9uLndpZHRoLCB0aGlzLmRlc2lnblJlc29sdXRpb24ud2lkdGggKiAoZnJhbWVTaXplLmhlaWdodCAvIGZyYW1lU2l6ZS53aWR0aCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuZGVzaWduUmVzb2x1dGlvbiA9IG5ld0Rlc2lnblNpemU7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coXCJ1cGRhdGUgY2FudmFzIHNpemU6IFwiICsgbmV3RGVzaWduU2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3RGVzaWduU2l6ZSA9IGNjLnNpemUodGhpcy5kZXNpZ25SZXNvbHV0aW9uLmhlaWdodCAqIChmcmFtZVNpemUud2lkdGggLyBmcmFtZVNpemUuaGVpZ2h0KSwgdGhpcy5kZXNpZ25SZXNvbHV0aW9uLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5kZXNpZ25SZXNvbHV0aW9uID0gbmV3RGVzaWduU2l6ZTtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhcInVwZGF0ZSBjYW52YXMgc2l6ZTogXCIgKyBuZXdEZXNpZ25TaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Base/EnableEngine.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '410b5IakXxEHar0VpWp1Cza', 'EnableEngine');
// Scripts/Common/Base/EnableEngine.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var EnableEngine = /** @class */ (function (_super) {
    __extends(EnableEngine, _super);
    function EnableEngine() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    EnableEngine.prototype.onLoad = function () {
        cc.director.getCollisionManager().enabled = true;
        //cc.director.getPhysics3DManager().enabled = true;
        //cc.director.getPhysics3DManager().gravity = cc.v3(0,0,-1);
    };
    EnableEngine = __decorate([
        ccclass
    ], EnableEngine);
    return EnableEngine;
}(cc.Component));
exports.default = EnableEngine;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxCYXNlXFxFbmFibGVFbmdpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxrQkFBcUMsRUFBbkMsb0JBQU8sRUFBRSxzQkFBMEIsQ0FBQztBQUc1QztJQUEwQyxnQ0FBWTtJQUF0RDs7SUFRQSxDQUFDO0lBTkcsNkJBQU0sR0FBTjtRQUNJLEVBQUUsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2pELG1EQUFtRDtRQUNuRCw0REFBNEQ7SUFDaEUsQ0FBQztJQU5nQixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBUWhDO0lBQUQsbUJBQUM7Q0FSRCxBQVFDLENBUnlDLEVBQUUsQ0FBQyxTQUFTLEdBUXJEO2tCQVJvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcclxuXHJcbkBjY2NsYXNzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuYWJsZUVuZ2luZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIGNjLmRpcmVjdG9yLmdldENvbGxpc2lvbk1hbmFnZXIoKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvL2NjLmRpcmVjdG9yLmdldFBoeXNpY3MzRE1hbmFnZXIoKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvL2NjLmRpcmVjdG9yLmdldFBoeXNpY3MzRE1hbmFnZXIoKS5ncmF2aXR5ID0gY2MudjMoMCwwLC0xKTtcclxuICAgIH1cclxuXHJcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Controller/JsonParser.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6cc6bfq9ilCA746Kt1jvDkH', 'JsonParser');
// Scripts/Controller/JsonParser.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JsonParser = /** @class */ (function (_super) {
    __extends(JsonParser, _super);
    function JsonParser() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    JsonParser.parse = function (resourcePath) {
        var ClassToParse;
        cc.loader.loadRes(resourcePath, function (err, res) {
            //console.log("Load Json");
            ClassToParse = res.json;
        });
        return ClassToParse;
    };
    JsonParser = __decorate([
        ccclass
    ], JsonParser);
    return JsonParser;
}(cc.Component));
exports.default = JsonParser;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29udHJvbGxlclxcSnNvblBhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLGtCQUFxQyxFQUFuQyxvQkFBTyxFQUFFLHNCQUEwQixDQUFDO0FBRzVDO0lBQXdDLDhCQUFZO0lBQXBEOztJQVNBLENBQUM7SUFSVSxnQkFBSyxHQUFaLFVBQWdCLFlBQW9CO1FBQ2hDLElBQUksWUFBZSxDQUFDO1FBQ3BCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHO1lBQ3JDLDJCQUEyQjtZQUMzQixZQUFZLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sWUFBWSxDQUFDO0lBQ3hCLENBQUM7SUFSZ0IsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQVM5QjtJQUFELGlCQUFDO0NBVEQsQUFTQyxDQVR1QyxFQUFFLENBQUMsU0FBUyxHQVNuRDtrQkFUb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgY2NjbGFzcywgcHJvcGVydHkgfSA9IGNjLl9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKc29uUGFyc2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBwYXJzZTxUPihyZXNvdXJjZVBhdGg6IHN0cmluZyk6IFQge1xyXG4gICAgICAgIGxldCBDbGFzc1RvUGFyc2U6IFQ7XHJcbiAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMocmVzb3VyY2VQYXRoLCAoZXJyLCByZXMpID0+IHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkxvYWQgSnNvblwiKTtcclxuICAgICAgICAgICAgQ2xhc3NUb1BhcnNlID0gcmVzLmpzb247XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIENsYXNzVG9QYXJzZTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Pool/BasePool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cb0fbC8XsxN+bOg4zCIWzqC', 'BasePool');
// Scripts/Common/Pool/BasePool.ts

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BasePool = /** @class */ (function () {
    function BasePool() {
        this.Prefab = null;
        this.reuse = true;
        this.Size = 0;
        this.pool = new cc.NodePool();
        //Khong can biet chinh xac so luong nut ban dau ta se sinh ra cac nut neu bi thieu trong thoi gian chay
        for (var i = 0; i < this.Size; ++i) {
            var obj = cc.instantiate(this.Prefab); // create node instance
            this.pool.put(obj); // populate your pool with put method
        }
    }
    // createObject(prefab : cc.Prefab,parent: cc.Node): cc.Node{
    //     if(this.reuse && prefab == this.Prefab) {
    //         let obj = null;
    //         if (this.pool.size() > 0) {
    //             obj = this.pool.get();
    //         } else {
    //             obj = cc.instantiate(this.Prefab);
    //         }
    //         obj.parent = parent;
    //         return obj;    
    //     } else {
    //         let obj = cc.instantiate(this.Prefab);
    //         obj.parent = parent;
    //         return obj;
    //     }
    // }
    BasePool.prototype.createObject = function (parent) {
        if (this.reuse) {
            var obj = null;
            if (this.pool.size() > 0) {
                obj = this.pool.get();
                obj.active = true;
            }
            else {
                obj = cc.instantiate(this.Prefab);
            }
            obj.parent = parent;
            return obj;
        }
        else {
            var obj = cc.instantiate(this.Prefab);
            obj.parent = parent;
            return obj;
        }
    };
    // RecycleObject( prefab : cc.Prefab,obj: cc.Node) {
    //     if(this.reuse && prefab == this.Prefab) {
    //         this.pool.put(obj);
    //     } else {
    //         obj.destroy();
    //     }
    // }
    BasePool.prototype.RecycleObject = function (obj) {
        if (this.reuse) {
            obj.active = false;
            this.pool.put(obj);
        }
        else {
            obj.destroy();
        }
    };
    BasePool.prototype.clearPool = function () {
        this.pool.clear();
    };
    __decorate([
        property(cc.Prefab)
    ], BasePool.prototype, "Prefab", void 0);
    __decorate([
        property(cc.Boolean)
    ], BasePool.prototype, "reuse", void 0);
    __decorate([
        property(cc.Integer)
    ], BasePool.prototype, "Size", void 0);
    BasePool = __decorate([
        ccclass("BasePool")
    ], BasePool);
    return BasePool;
}());
exports.default = BasePool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxQb29sXFxCYXNlUG9vbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFZSTtRQVBBLFdBQU0sR0FBYyxJQUFJLENBQUM7UUFHbEIsVUFBSyxHQUFZLElBQUksQ0FBQztRQUV0QixTQUFJLEdBQVcsQ0FBQyxDQUFDO1FBR3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUIsdUdBQXVHO1FBQ3ZHLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ2hDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsdUJBQXVCO1lBQzlELElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMscUNBQXFDO1NBQzVEO0lBQ0wsQ0FBQztJQUVELDZEQUE2RDtJQUM3RCxnREFBZ0Q7SUFDaEQsMEJBQTBCO0lBQzFCLHNDQUFzQztJQUN0QyxxQ0FBcUM7SUFDckMsbUJBQW1CO0lBQ25CLGlEQUFpRDtJQUNqRCxZQUFZO0lBQ1osK0JBQStCO0lBQy9CLDBCQUEwQjtJQUMxQixlQUFlO0lBQ2YsaURBQWlEO0lBQ2pELCtCQUErQjtJQUMvQixzQkFBc0I7SUFDdEIsUUFBUTtJQUNSLElBQUk7SUFDSCwrQkFBWSxHQUFaLFVBQWEsTUFBZTtRQUN6QixJQUFHLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUM7WUFDekIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRTtnQkFDdEIsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ3RCLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ3JCO2lCQUFNO2dCQUNILEdBQUcsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNyQztZQUNELEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ3BCLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7YUFBTTtZQUNILElBQUksR0FBRyxHQUFhLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2hELEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ3BCLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7SUFDTCxDQUFDO0lBQ0Qsb0RBQW9EO0lBQ3BELGdEQUFnRDtJQUNoRCw4QkFBOEI7SUFDOUIsZUFBZTtJQUNmLHlCQUF5QjtJQUN6QixRQUFRO0lBQ1IsSUFBSTtJQUNKLGdDQUFhLEdBQWIsVUFBYyxHQUFZO1FBQ3RCLElBQUcsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNYLEdBQUcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3RCO2FBQU07WUFDSCxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDakI7SUFDTCxDQUFDO0lBRUQsNEJBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQW5FRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzRDQUNLO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7MkNBQ1E7SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQzswQ0FDRztJQVZQLFFBQVE7UUFENUIsT0FBTyxDQUFDLFVBQVUsQ0FBQztPQUNDLFFBQVEsQ0EwRTVCO0lBQUQsZUFBQztDQTFFRCxBQTBFQyxJQUFBO2tCQTFFb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3MoXCJCYXNlUG9vbFwiKVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlUG9vbCB7XHJcblxyXG4gICAgcHJpdmF0ZSBwb29sOiBjYy5Ob2RlUG9vbDtcclxuXHJcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxyXG4gICAgUHJlZmFiOiBjYy5QcmVmYWIgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5Cb29sZWFuKVxyXG4gICAgcHVibGljIHJldXNlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIEBwcm9wZXJ0eShjYy5JbnRlZ2VyKVxyXG4gICAgcHVibGljIFNpemU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XHJcbiAgICAgICAgLy9LaG9uZyBjYW4gYmlldCBjaGluaCB4YWMgc28gbHVvbmcgbnV0IGJhbiBkYXUgdGEgc2Ugc2luaCByYSBjYWMgbnV0IG5ldSBiaSB0aGlldSB0cm9uZyB0aG9pIGdpYW4gY2hheVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5TaXplOyArK2kpIHtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuUHJlZmFiKTsgLy8gY3JlYXRlIG5vZGUgaW5zdGFuY2VcclxuICAgICAgICAgICAgdGhpcy5wb29sLnB1dChvYmopOyAvLyBwb3B1bGF0ZSB5b3VyIHBvb2wgd2l0aCBwdXQgbWV0aG9kXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNyZWF0ZU9iamVjdChwcmVmYWIgOiBjYy5QcmVmYWIscGFyZW50OiBjYy5Ob2RlKTogY2MuTm9kZXtcclxuICAgIC8vICAgICBpZih0aGlzLnJldXNlICYmIHByZWZhYiA9PSB0aGlzLlByZWZhYikge1xyXG4gICAgLy8gICAgICAgICBsZXQgb2JqID0gbnVsbDtcclxuICAgIC8vICAgICAgICAgaWYgKHRoaXMucG9vbC5zaXplKCkgPiAwKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmogPSB0aGlzLnBvb2wuZ2V0KCk7XHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBvYmogPSBjYy5pbnN0YW50aWF0ZSh0aGlzLlByZWZhYik7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgb2JqLnBhcmVudCA9IHBhcmVudDtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG9iajsgICAgXHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgbGV0IG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuUHJlZmFiKTtcclxuICAgIC8vICAgICAgICAgb2JqLnBhcmVudCA9IHBhcmVudDtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICAgY3JlYXRlT2JqZWN0KHBhcmVudDogY2MuTm9kZSk6IGNjLk5vZGV7XHJcbiAgICAgICAgaWYodGhpcy5yZXVzZSkge1xyXG4gICAgICAgICAgICBsZXQgb2JqIDogY2MuTm9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvb2wuc2l6ZSgpID4gMCkgeyAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgb2JqID0gdGhpcy5wb29sLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgb2JqLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSBjYy5pbnN0YW50aWF0ZSh0aGlzLlByZWZhYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2JqLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajsgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IG9iaiA6IGNjLk5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLlByZWZhYik7XHJcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gUmVjeWNsZU9iamVjdCggcHJlZmFiIDogY2MuUHJlZmFiLG9iajogY2MuTm9kZSkge1xyXG4gICAgLy8gICAgIGlmKHRoaXMucmV1c2UgJiYgcHJlZmFiID09IHRoaXMuUHJlZmFiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMucG9vbC5wdXQob2JqKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBvYmouZGVzdHJveSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuICAgIFJlY3ljbGVPYmplY3Qob2JqOiBjYy5Ob2RlKSB7XHJcbiAgICAgICAgaWYodGhpcy5yZXVzZSkge1xyXG4gICAgICAgICAgICBvYmouYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucG9vbC5wdXQob2JqKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvYmouZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjbGVhclBvb2woKXtcclxuICAgICAgICB0aGlzLnBvb2wuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIFxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Controller/ObjectMove.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3cd7acL2HVPBLnWtaMLj7MI', 'ObjectMove');
// Scripts/Controller/ObjectMove.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GlobalGamePlay_1 = require("../Common/Base/GlobalGamePlay");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ObjectMove = /** @class */ (function (_super) {
    __extends(ObjectMove, _super);
    function ObjectMove() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.boxCollider = null;
        _this.speedInit = 0;
        _this.img = null;
        _this.trail = null;
        _this.arraySprites = [];
        _this.arraySpritesHurtNotes = [];
        _this.effectPref = [];
        _this.isActive = false;
        _this.isHit = false;
        _this.isBonusScore = false;
        _this.currentSpeed = 0;
        _this.y = 0;
        _this.time = 0;
        _this.type = 0;
        _this.transformCollision = null;
        return _this;
    }
    ObjectMove.prototype.SetActive = function (type, scale, speed, isHit) {
        this.type = type;
        this.isHit = isHit;
        this.isBonusScore = (scale != 0 && this.isHit);
        if (isHit) {
            this.boxCollider.enabled = true;
            this.img.spriteFrame = this.arraySprites[type];
            this.trail.scaleX = 1;
            this.trail.scaleY = scale;
            this.y = -306 - (100 * scale);
        }
        else {
            this.boxCollider.enabled = false;
            this.img.spriteFrame = this.arraySpritesHurtNotes[type];
            //this.img = null;
            this.trail.scale = 0;
        }
        this.currentSpeed = this.speedInit * speed;
        this.isActive = true;
    };
    ObjectMove.prototype.update = function (dt) {
        this.node.y += this.currentSpeed * dt;
        if (this.node.y < -306 && this.isActive) {
            if (!this.isHit) {
                this.isActive = false;
                this.node.destroy();
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.EnemyAnimation(this.type);
            }
            else {
                if (this.node.y < -410) {
                    this.isActive = false;
                    this.isBonusScore = false;
                    GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.OnMiss();
                    this.node.destroy();
                }
            }
        }
        if (this.isBonusScore && !this.isActive) {
            if (this.transformCollision.x > this.node.x + 30 || this.transformCollision.x < this.node.x - 30 || this.node.y < this.y) {
                this.isBonusScore = false;
                this.node.destroy();
                //Stop sound gun auto
            }
            else {
                this.time += dt;
                //Play sound gun auto
                if (this.time > 0.1) {
                    this.time = 0;
                    GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.OnAddScore(30);
                }
            }
        }
    };
    ObjectMove.prototype.onCollisionEnter = function (Other, mySelf) {
        if (this.isActive) {
            this.isActive = false;
            if (Other.node.group == "ObjectTarget") {
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.PlayerAnimation(this.type);
                if (this.node.y < Other.node.y) {
                    GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.OnAddScore(250);
                }
                else {
                    GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.OnAddScore(500);
                }
                //if (!this.isBonusScore) {
                //this.scheduleOnce(() => {
                this.node.destroy();
                //}, 0.1);
                //}
                //Play Sound Gun DE
                // cc.audioEngine.playEffect(GlobalGamePlay.Instance(GlobalGamePlay).gameplay.soundManager.soundDE, false);
                this.SpawnerEffectObject(this.type, mySelf.node);
            }
        }
    };
    ObjectMove.prototype.SpawnerEffectObject = function (type, pos) {
        var eff = cc.instantiate(this.effectPref[type]);
        eff.setParent(GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.effectParent);
        eff.setPosition(pos.x, pos.y - 20);
    };
    __decorate([
        property(cc.BoxCollider)
    ], ObjectMove.prototype, "boxCollider", void 0);
    __decorate([
        property(cc.Float)
    ], ObjectMove.prototype, "speedInit", void 0);
    __decorate([
        property(cc.Sprite)
    ], ObjectMove.prototype, "img", void 0);
    __decorate([
        property(cc.Node)
    ], ObjectMove.prototype, "trail", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], ObjectMove.prototype, "arraySprites", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], ObjectMove.prototype, "arraySpritesHurtNotes", void 0);
    __decorate([
        property(cc.Prefab)
    ], ObjectMove.prototype, "effectPref", void 0);
    ObjectMove = __decorate([
        ccclass
    ], ObjectMove);
    return ObjectMove;
}(cc.Component));
exports.default = ObjectMove;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29udHJvbGxlclxcT2JqZWN0TW92ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnRUFBMkQ7QUFFckQsSUFBQSxrQkFBcUMsRUFBbkMsb0JBQU8sRUFBRSxzQkFBMEIsQ0FBQztBQUc1QztJQUF3Qyw4QkFBWTtJQURwRDtRQUFBLHFFQTRHQztRQXpHRyxpQkFBVyxHQUFtQixJQUFJLENBQUM7UUFFbkMsZUFBUyxHQUFXLENBQUMsQ0FBQztRQUV0QixTQUFHLEdBQWMsSUFBSSxDQUFDO1FBRXRCLFdBQUssR0FBWSxJQUFJLENBQUM7UUFFdEIsa0JBQVksR0FBcUIsRUFBRSxDQUFDO1FBRXBDLDJCQUFxQixHQUFxQixFQUFFLENBQUM7UUFFN0MsZ0JBQVUsR0FBZ0IsRUFBRSxDQUFDO1FBQzdCLGNBQVEsR0FBWSxLQUFLLENBQUM7UUFDMUIsV0FBSyxHQUFZLEtBQUssQ0FBQztRQUN2QixrQkFBWSxHQUFZLEtBQUssQ0FBQztRQUM5QixrQkFBWSxHQUFXLENBQUMsQ0FBQztRQUN6QixPQUFDLEdBQVcsQ0FBQyxDQUFDO1FBQ2QsVUFBSSxHQUFXLENBQUMsQ0FBQztRQUNqQixVQUFJLEdBQVcsQ0FBQyxDQUFDO1FBQ2pCLHdCQUFrQixHQUFZLElBQUksQ0FBQzs7SUFxRnZDLENBQUM7SUFwRkcsOEJBQVMsR0FBVCxVQUFVLElBQVksRUFBRSxLQUFhLEVBQUUsS0FBYSxFQUFFLEtBQWM7UUFDaEUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQy9DLElBQUksS0FBSyxFQUFFO1lBQ1AsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ2pDO2FBQ0k7WUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hELGtCQUFrQjtZQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7U0FDeEI7UUFDRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFDUywyQkFBTSxHQUFoQixVQUFpQixFQUFVO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3RDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDYixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztnQkFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDcEIsd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBRTlFO2lCQUNJO2dCQUNELElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO29CQUN0QixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztvQkFDMUIsd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztvQkFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztpQkFDdkI7YUFDSjtTQUNKO1FBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNyQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUU7Z0JBQ3RILElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO2dCQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUVwQixxQkFBcUI7YUFFeEI7aUJBQ0k7Z0JBQ0QsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2hCLHFCQUFxQjtnQkFDckIsSUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRTtvQkFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7b0JBQ2Qsd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQ25FO2FBQ0o7U0FDSjtJQUNMLENBQUM7SUFDRCxxQ0FBZ0IsR0FBaEIsVUFBaUIsS0FBa0IsRUFBRSxNQUFtQjtRQUNwRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDZixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLGNBQWMsRUFBRTtnQkFDcEMsd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM1RSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFO29CQUM1Qix3QkFBYyxDQUFDLFFBQVEsQ0FBQyx3QkFBYyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDcEU7cUJBQ0k7b0JBQ0Qsd0JBQWMsQ0FBQyxRQUFRLENBQUMsd0JBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ3BFO2dCQUNELDJCQUEyQjtnQkFDdkIsMkJBQTJCO2dCQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUN4QixVQUFVO2dCQUNkLEdBQUc7Z0JBQ0gsbUJBQW1CO2dCQUNuQiwyR0FBMkc7Z0JBQzNHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNwRDtTQUNKO0lBQ0wsQ0FBQztJQUNELHdDQUFtQixHQUFuQixVQUFvQixJQUFZLEVBQUUsR0FBWTtRQUMxQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNoRCxHQUFHLENBQUMsU0FBUyxDQUFDLHdCQUFjLENBQUMsUUFBUSxDQUFDLHdCQUFjLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0UsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQXhHRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDO21EQUNVO0lBRW5DO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7aURBQ0c7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDRTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzZDQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7b0RBQ1c7SUFFcEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQzs2REFDb0I7SUFFN0M7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztrREFDUztJQWRaLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0EyRzlCO0lBQUQsaUJBQUM7Q0EzR0QsQUEyR0MsQ0EzR3VDLEVBQUUsQ0FBQyxTQUFTLEdBMkduRDtrQkEzR29CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2xvYmFsR2FtZVBsYXkgZnJvbSBcIi4uL0NvbW1vbi9CYXNlL0dsb2JhbEdhbWVQbGF5XCI7XHJcblxyXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JqZWN0TW92ZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoY2MuQm94Q29sbGlkZXIpXHJcbiAgICBib3hDb2xsaWRlcjogY2MuQm94Q29sbGlkZXIgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLkZsb2F0KVxyXG4gICAgc3BlZWRJbml0OiBudW1iZXIgPSAwO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcclxuICAgIGltZzogY2MuU3ByaXRlID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxyXG4gICAgdHJhaWw6IGNjLk5vZGUgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxyXG4gICAgYXJyYXlTcHJpdGVzOiBjYy5TcHJpdGVGcmFtZVtdID0gW107XHJcbiAgICBAcHJvcGVydHkoY2MuU3ByaXRlRnJhbWUpXHJcbiAgICBhcnJheVNwcml0ZXNIdXJ0Tm90ZXM6IGNjLlNwcml0ZUZyYW1lW10gPSBbXTtcclxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXHJcbiAgICBlZmZlY3RQcmVmOiBjYy5QcmVmYWJbXSA9IFtdO1xyXG4gICAgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGlzSGl0OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBpc0JvbnVzU2NvcmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGN1cnJlbnRTcGVlZDogbnVtYmVyID0gMDtcclxuICAgIHk6IG51bWJlciA9IDA7XHJcbiAgICB0aW1lOiBudW1iZXIgPSAwO1xyXG4gICAgdHlwZTogbnVtYmVyID0gMDtcclxuICAgIHRyYW5zZm9ybUNvbGxpc2lvbjogY2MuVmVjMiA9IG51bGw7XHJcbiAgICBTZXRBY3RpdmUodHlwZTogbnVtYmVyLCBzY2FsZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCBpc0hpdDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5pc0hpdCA9IGlzSGl0O1xyXG4gICAgICAgIHRoaXMuaXNCb251c1Njb3JlID0gKHNjYWxlICE9IDAgJiYgdGhpcy5pc0hpdCk7XHJcbiAgICAgICAgaWYgKGlzSGl0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm94Q29sbGlkZXIuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nLnNwcml0ZUZyYW1lID0gdGhpcy5hcnJheVNwcml0ZXNbdHlwZV07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyYWlsLnNjYWxlWCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMudHJhaWwuc2NhbGVZID0gc2NhbGU7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IC0zMDYgLSAoMTAwICogc2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ib3hDb2xsaWRlci5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaW1nLnNwcml0ZUZyYW1lID0gdGhpcy5hcnJheVNwcml0ZXNIdXJ0Tm90ZXNbdHlwZV07XHJcbiAgICAgICAgICAgIC8vdGhpcy5pbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnRyYWlsLnNjYWxlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3BlZWQgPSB0aGlzLnNwZWVkSW5pdCAqIHNwZWVkO1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ub2RlLnkgKz0gdGhpcy5jdXJyZW50U3BlZWQgKiBkdDtcclxuICAgICAgICBpZiAodGhpcy5ub2RlLnkgPCAtMzA2ICYmIHRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzSGl0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5LkVuZW15QW5pbWF0aW9uKHRoaXMudHlwZSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm9kZS55IDwgLTQxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQm9udXNTY29yZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5Pbk1pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzQm9udXNTY29yZSAmJiAhdGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm1Db2xsaXNpb24ueCA+IHRoaXMubm9kZS54ICsgMzAgfHwgdGhpcy50cmFuc2Zvcm1Db2xsaXNpb24ueCA8IHRoaXMubm9kZS54IC0gMzAgfHwgdGhpcy5ub2RlLnkgPCB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNCb251c1Njb3JlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vU3RvcCBzb3VuZCBndW4gYXV0b1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZSArPSBkdDtcclxuICAgICAgICAgICAgICAgIC8vUGxheSBzb3VuZCBndW4gYXV0b1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZSA+IDAuMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5Lk9uQWRkU2NvcmUoMzApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Db2xsaXNpb25FbnRlcihPdGhlcjogY2MuQ29sbGlkZXIsIG15U2VsZjogY2MuQ29sbGlkZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChPdGhlci5ub2RlLmdyb3VwID09IFwiT2JqZWN0VGFyZ2V0XCIpIHtcclxuICAgICAgICAgICAgICAgIEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5QbGF5ZXJBbmltYXRpb24odGhpcy50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGUueSA8IE90aGVyLm5vZGUueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5PbkFkZFNjb3JlKDI1MCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBHbG9iYWxHYW1lUGxheS5JbnN0YW5jZShHbG9iYWxHYW1lUGxheSkuZ2FtZXBsYXkuT25BZGRTY29yZSg1MDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9pZiAoIXRoaXMuaXNCb251c1Njb3JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnNjaGVkdWxlT25jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99LCAwLjEpO1xyXG4gICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAvL1BsYXkgU291bmQgR3VuIERFXHJcbiAgICAgICAgICAgICAgICAvLyBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5zb3VuZE1hbmFnZXIuc291bmRERSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TcGF3bmVyRWZmZWN0T2JqZWN0KHRoaXMudHlwZSwgbXlTZWxmLm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3Bhd25lckVmZmVjdE9iamVjdCh0eXBlOiBudW1iZXIsIHBvczogY2MuTm9kZSkge1xyXG4gICAgICAgIHZhciBlZmYgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmVmZmVjdFByZWZbdHlwZV0pO1xyXG4gICAgICAgIGVmZi5zZXRQYXJlbnQoR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5LmVmZmVjdFBhcmVudCk7XHJcbiAgICAgICAgZWZmLnNldFBvc2l0aW9uKHBvcy54LCBwb3MueSAtIDIwKTtcclxuICAgIH1cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Common/Base/Global.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2a89b+amfNAl6tKkXESWcSg', 'Global');
// Scripts/Common/Base/Global.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Global = {
    touchPos: null,
    boolEndGame: false,
};
exports.default = Global;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29tbW9uXFxCYXNlXFxHbG9iYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLQSxJQUFJLE1BQU0sR0FBVztJQUNqQixRQUFRLEVBQUUsSUFBSTtJQUNkLFdBQVcsRUFBRSxLQUFLO0NBQ3JCLENBQUM7QUFDRixrQkFBZSxNQUFNLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgR2xvYmFsIHtcclxuICAgIHRvdWNoUG9zOiBjYy5WZWMyLFxyXG4gICAgYm9vbEVuZEdhbWU6IGJvb2xlYW4sXHJcbn1cclxuXHJcbmxldCBHbG9iYWw6IEdsb2JhbCA9IHtcclxuICAgIHRvdWNoUG9zOiBudWxsLFxyXG4gICAgYm9vbEVuZEdhbWU6IGZhbHNlLFxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBHbG9iYWw7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/SymmetricGamePlay/Scripts/NewScript.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f018fqjS+FOY5rzYE9gm/cz', 'NewScript');
// SymmetricGamePlay/Scripts/NewScript.ts

"use strict";
// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.text = 'hello';
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    NewClass.prototype.start = function () {
    };
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "label", void 0);
    __decorate([
        property
    ], NewClass.prototype, "text", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU3ltbWV0cmljR2FtZVBsYXlcXFNjcmlwdHNcXE5ld1NjcmlwdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdFQUF3RTtBQUN4RSxtQkFBbUI7QUFDbkIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrRkFBa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU1RSxJQUFBLGtCQUFtQyxFQUFsQyxvQkFBTyxFQUFFLHNCQUF5QixDQUFDO0FBRzFDO0lBQXNDLDRCQUFZO0lBRGxEO1FBQUEscUVBa0JDO1FBZEcsV0FBSyxHQUFhLElBQUksQ0FBQztRQUd2QixVQUFJLEdBQVcsT0FBTyxDQUFDOztRQVV2QixpQkFBaUI7SUFDckIsQ0FBQztJQVRHLHdCQUF3QjtJQUV4QixlQUFlO0lBRWYsd0JBQUssR0FBTDtJQUVBLENBQUM7SUFYRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJDQUNJO0lBR3ZCO1FBREMsUUFBUTswQ0FDYztJQU5OLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FpQjVCO0lBQUQsZUFBQztDQWpCRCxBQWlCQyxDQWpCcUMsRUFBRSxDQUFDLFNBQVMsR0FpQmpEO2tCQWpCb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV3Q2xhc3MgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICB0ZXh0OiBzdHJpbmcgPSAnaGVsbG8nO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge31cclxufVxyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/SymmetricGamePlay/Scripts/DragRotate.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f018fqjS+FOY5rzYE9gm/cz', 'DragRotate');
// SymmetricGamePlay/Scripts/DragRotate.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GlobalGamePlay_1 = require("../../Scripts/Common/Base/GlobalGamePlay");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DragRotate = /** @class */ (function (_super) {
    __extends(DragRotate, _super);
    function DragRotate() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nodeTarget = null;
        _this.touchPos = null;
        _this.boolOnTouch = false;
        _this.isControllable = false;
        _this.isTouchMove = false;
        _this.onDoneMerge = false;
        return _this;
    }
    DragRotate.prototype.start = function () {
        this.touchPos = this.node.getPosition();
        this.ActiveEvent(true);
        this.isControllable = true;
        this.ScanAngleNode();
        this.onDoneMerge = false;
    };
    DragRotate.prototype.update = function (dt) {
        if (this.boolOnTouch) {
            if (!this.onDoneMerge) {
                this.DragPuzze();
            }
        }
    };
    DragRotate.prototype.ActiveEvent = function (bool) {
        if (bool) {
            this.node.on(cc.Node.EventType.TOUCH_START, this.ontouchStart, this);
            this.node.on(cc.Node.EventType.TOUCH_MOVE, this.ontouchMove, this);
            this.node.on(cc.Node.EventType.TOUCH_END, this.ontouchEnd, this);
            this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.ontouchEnd, this);
        }
        else {
            this.node.off(cc.Node.EventType.TOUCH_START, this.ontouchStart, this);
            this.node.off(cc.Node.EventType.TOUCH_MOVE, this.ontouchMove, this);
            this.node.off(cc.Node.EventType.TOUCH_END, this.ontouchEnd, this);
            this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.ontouchEnd, this);
        }
    };
    DragRotate.prototype.ontouchStart = function (event) {
        if (this.isControllable) {
            this.boolOnTouch = true;
            // cc.log("On 1 click !");   
            // if(!this.onDoneMerge){
            //     this.RotateObject45();
            // }
        }
    };
    DragRotate.prototype.ontouchMove = function (event) {
        if (this.isControllable) {
            this.boolOnTouch = true;
            this.isTouchMove = true;
            var delta = event.getDelta();
            this.touchPos.x += delta.x;
            this.touchPos.y += delta.y;
        }
    };
    DragRotate.prototype.ontouchEnd = function (event) {
        if (this.isControllable) {
            if (!this.onDoneMerge) {
                if (!this.isTouchMove) {
                    this.RotateObject45();
                }
            }
            this.isTouchMove = false;
            var a = Math.sqrt((this.node.x - this.nodeTarget.x) * (this.node.x - this.nodeTarget.x) +
                (this.node.y - this.nodeTarget.y) * (this.node.y - this.nodeTarget.y));
        }
    };
    DragRotate.prototype.RotateObject45 = function () {
        // Plus rotate angle 
        this.node.angle -= 45;
        if (this.node.angle == -360) {
            this.node.angle = 0;
        }
        cc.audioEngine.playEffect(GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.soundManager.TouchSound, false);
        //cc.log("Angle now: " + this.node.angle);
        this.ScanAngleNode();
    };
    DragRotate.prototype.ScanAngleNode = function () {
        var tempIndex;
        if (Math.abs(this.node.angle) === 0) {
            tempIndex = 0;
        }
        else if (Math.abs(this.node.angle) === 45) {
            tempIndex = 1;
        }
        else if (Math.abs(this.node.angle) === 90) {
            tempIndex = 2;
        }
        else if (Math.abs(this.node.angle) === 135) {
            tempIndex = 3;
        }
        else if (Math.abs(this.node.angle) === 180) {
            tempIndex = 4;
        }
        else if (Math.abs(this.node.angle) === 225) {
            tempIndex = 5;
        }
        else if (Math.abs(this.node.angle) === 270) {
            tempIndex = 6;
        }
        else if (Math.abs(this.node.angle) === 315) {
            tempIndex = 7;
        }
        else if (Math.abs(this.node.angle) === 360) {
            tempIndex = 8;
        }
        //cc.log("Index temp now: " + tempIndex);
        switch (this.puzzeStage) {
            case 1:
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.indexPuzze11 = tempIndex;
                break;
            case 2:
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.indexPuzze12 = tempIndex;
                break;
            case 3:
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.indexPuzze2 = tempIndex;
                break;
            case 4:
                GlobalGamePlay_1.default.Instance(GlobalGamePlay_1.default).gameplay.indexPuzze3 = tempIndex;
                break;
            default:
                break;
        }
        //cc.log("PuzzeStageNow: " + this.puzzeStage);
    };
    DragRotate.prototype.DragPuzze = function () {
        if (this.touchPos.x >= -300 && this.touchPos.x <= 300) {
            this.node.x = cc.misc.lerp(this.node.x, this.touchPos.x, 0.7);
        }
        //cc.log("x pos: " + this.node.x);
        if (this.touchPos.y <= 500 && this.touchPos.y >= -500) {
            this.node.y = cc.misc.lerp(this.node.y, this.touchPos.y, 0.7);
        }
        //cc.log("y pos: " + this.node.y);
        // this.node.x = cc.misc.lerp(this.node.x, this.touchPos.x, 0.7);
        // this.node.y = cc.misc.lerp(this.node.y, this.touchPos.y, 0.7)
    };
    __decorate([
        property(cc.Node)
    ], DragRotate.prototype, "nodeTarget", void 0);
    __decorate([
        property(cc.Float)
    ], DragRotate.prototype, "puzzeStage", void 0);
    DragRotate = __decorate([
        ccclass
    ], DragRotate);
    return DragRotate;
}(cc.Component));
exports.default = DragRotate;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU3ltbWV0cmljR2FtZVBsYXlcXFNjcmlwdHNcXERyYWdSb3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsMkVBQXNFO0FBSWhFLElBQUEsa0JBQW1DLEVBQWxDLG9CQUFPLEVBQUUsc0JBQXlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFEcEQ7UUFBQSxxRUF3SkM7UUFwSkcsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0IsY0FBUSxHQUFZLElBQUksQ0FBQztRQUN6QixpQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixvQkFBYyxHQUFZLEtBQUssQ0FBQztRQUloQyxpQkFBVyxHQUFZLEtBQUssQ0FBQztRQUU3QixpQkFBVyxHQUFZLEtBQUssQ0FBQzs7SUEwSWpDLENBQUM7SUF4SUcsMEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUM3QixDQUFDO0lBRVMsMkJBQU0sR0FBaEIsVUFBaUIsRUFBVTtRQUN2QixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbEIsSUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUM7Z0JBQ2pCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzthQUNwQjtTQUNKO0lBRUwsQ0FBQztJQUVELGdDQUFXLEdBQVgsVUFBWSxJQUFhO1FBQ3JCLElBQUcsSUFBSSxFQUFDO1lBQ0osSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FB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bnQiOlsiXHJcbmltcG9ydCBHbG9iYWxHYW1lUGxheSBmcm9tIFwiLi4vLi4vU2NyaXB0cy9Db21tb24vQmFzZS9HbG9iYWxHYW1lUGxheVwiO1xyXG5pbXBvcnQgR2xvYmFsIGZyb20gXCIuLi8uLi9TY3JpcHRzL0NvbW1vbi9CYXNlL0dsb2JhbFwiO1xyXG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuLi8uLi9TY3JpcHRzL0NvbW1vbi9Tb3VuZE1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhZ1JvdGF0ZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XHJcblxyXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXHJcbiAgICBub2RlVGFyZ2V0OiBjYy5Ob2RlID0gbnVsbDtcclxuICAgIFxyXG4gICAgdG91Y2hQb3M6IGNjLlZlYzIgPSBudWxsO1xyXG4gICAgYm9vbE9uVG91Y2g6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGlzQ29udHJvbGxhYmxlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBAcHJvcGVydHkoY2MuRmxvYXQpXHJcbiAgICBwdXp6ZVN0YWdlOiBudW1iZXIgO1xyXG5cclxuICAgIGlzVG91Y2hNb3ZlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgb25Eb25lTWVyZ2U6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgdGhpcy50b3VjaFBvcyA9IHRoaXMubm9kZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIHRoaXMuQWN0aXZlRXZlbnQodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5pc0NvbnRyb2xsYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5TY2FuQW5nbGVOb2RlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRvbmVNZXJnZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmJvb2xPblRvdWNoKSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLm9uRG9uZU1lcmdlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuRHJhZ1B1enplKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEFjdGl2ZUV2ZW50KGJvb2w6IGJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGJvb2wpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMub250b3VjaFN0YXJ0LCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMub250b3VjaE1vdmUsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9udG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLm9udG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLm9udG91Y2hTdGFydCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vbnRvdWNoTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9udG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5vbnRvdWNoRW5kLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb250b3VjaFN0YXJ0KGV2ZW50OiBjYy5Ub3VjaCl7XHJcbiAgICAgICAgaWYodGhpcy5pc0NvbnRyb2xsYWJsZSl7XHJcbiAgICAgICAgICAgIHRoaXMuYm9vbE9uVG91Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyBjYy5sb2coXCJPbiAxIGNsaWNrICFcIik7ICAgXHJcbiAgICAgICAgICAgIC8vIGlmKCF0aGlzLm9uRG9uZU1lcmdlKXtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuUm90YXRlT2JqZWN0NDUoKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbnRvdWNoTW92ZShldmVudDogY2MuVG91Y2gpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNDb250cm9sbGFibGUpe1xyXG4gICAgICAgICAgICB0aGlzLmJvb2xPblRvdWNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pc1RvdWNoTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGV2ZW50LmdldERlbHRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hQb3MueCArPSBkZWx0YS54O1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoUG9zLnkgKz0gZGVsdGEueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb250b3VjaEVuZChldmVudDogY2MuVG91Y2gpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNDb250cm9sbGFibGUpe1xyXG4gICAgICAgICAgICBpZighdGhpcy5vbkRvbmVNZXJnZSl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5pc1RvdWNoTW92ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Sb3RhdGVPYmplY3Q0NSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaXNUb3VjaE1vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGEgPSBNYXRoLnNxcnQoKHRoaXMubm9kZS54IC0gdGhpcy5ub2RlVGFyZ2V0LngpICogKHRoaXMubm9kZS54IC0gdGhpcy5ub2RlVGFyZ2V0LngpICtcclxuICAgICAgICAgICAgICAgICh0aGlzLm5vZGUueSAtIHRoaXMubm9kZVRhcmdldC55KSAqICh0aGlzLm5vZGUueSAtIHRoaXMubm9kZVRhcmdldC55KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIFJvdGF0ZU9iamVjdDQ1KCl7XHJcbiAgICAvLyBQbHVzIHJvdGF0ZSBhbmdsZSBcclxuICAgICAgICB0aGlzLm5vZGUuYW5nbGUgLT0gNDU7XHJcbiAgICAgICAgaWYodGhpcy5ub2RlLmFuZ2xlID09IC0zNjApe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYW5nbGUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5zb3VuZE1hbmFnZXIuVG91Y2hTb3VuZCwgZmFsc2UpO1xyXG4gICAgICAgIC8vY2MubG9nKFwiQW5nbGUgbm93OiBcIiArIHRoaXMubm9kZS5hbmdsZSk7XHJcbiAgICAgICAgdGhpcy5TY2FuQW5nbGVOb2RlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBTY2FuQW5nbGVOb2RlKCl7XHJcbiAgICAgICAgbGV0IHRlbXBJbmRleDtcclxuICAgICAgICBpZihNYXRoLmFicyh0aGlzLm5vZGUuYW5nbGUpID09PSAwKXtcclxuICAgICAgICAgICAgdGVtcEluZGV4ID0gMDtcclxuICAgICAgICB9ZWxzZSBpZihNYXRoLmFicyh0aGlzLm5vZGUuYW5nbGUpID09PSA0NSl7XHJcbiAgICAgICAgICAgIHRlbXBJbmRleCA9IDE7XHJcbiAgICAgICAgfWVsc2UgaWYoTWF0aC5hYnModGhpcy5ub2RlLmFuZ2xlKSA9PT0gOTApe1xyXG4gICAgICAgICAgICB0ZW1wSW5kZXggPSAyO1xyXG4gICAgICAgIH1lbHNlIGlmKE1hdGguYWJzKHRoaXMubm9kZS5hbmdsZSkgPT09IDEzNSl7XHJcbiAgICAgICAgICAgIHRlbXBJbmRleCA9IDM7XHJcbiAgICAgICAgfWVsc2UgaWYoTWF0aC5hYnModGhpcy5ub2RlLmFuZ2xlKSA9PT0gMTgwKXtcclxuICAgICAgICAgICAgdGVtcEluZGV4ID0gNDtcclxuICAgICAgICB9ZWxzZSBpZihNYXRoLmFicyh0aGlzLm5vZGUuYW5nbGUpID09PSAyMjUpe1xyXG4gICAgICAgICAgICB0ZW1wSW5kZXggPSA1O1xyXG4gICAgICAgIH1lbHNlIGlmKE1hdGguYWJzKHRoaXMubm9kZS5hbmdsZSkgPT09IDI3MCl7XHJcbiAgICAgICAgICAgIHRlbXBJbmRleCA9IDY7XHJcbiAgICAgICAgfWVsc2UgaWYoTWF0aC5hYnModGhpcy5ub2RlLmFuZ2xlKSA9PT0gMzE1KXtcclxuICAgICAgICAgICAgdGVtcEluZGV4ID0gNztcclxuICAgICAgICB9ZWxzZSBpZihNYXRoLmFicyh0aGlzLm5vZGUuYW5nbGUpID09PSAzNjApe1xyXG4gICAgICAgICAgICB0ZW1wSW5kZXggPSA4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jYy5sb2coXCJJbmRleCB0ZW1wIG5vdzogXCIgKyB0ZW1wSW5kZXgpO1xyXG5cclxuICAgICAgICBzd2l0Y2godGhpcy5wdXp6ZVN0YWdlKXtcclxuICAgICAgICAgICAgY2FzZSAxOiBcclxuICAgICAgICAgICAgICAgIEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5pbmRleFB1enplMTEgPSB0ZW1wSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgR2xvYmFsR2FtZVBsYXkuSW5zdGFuY2UoR2xvYmFsR2FtZVBsYXkpLmdhbWVwbGF5LmluZGV4UHV6emUxMiA9IHRlbXBJbmRleDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBHbG9iYWxHYW1lUGxheS5JbnN0YW5jZShHbG9iYWxHYW1lUGxheSkuZ2FtZXBsYXkuaW5kZXhQdXp6ZTIgPSB0ZW1wSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OiBcclxuICAgICAgICAgICAgICAgIEdsb2JhbEdhbWVQbGF5Lkluc3RhbmNlKEdsb2JhbEdhbWVQbGF5KS5nYW1lcGxheS5pbmRleFB1enplMyA9IHRlbXBJbmRleDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NjLmxvZyhcIlB1enplU3RhZ2VOb3c6IFwiICsgdGhpcy5wdXp6ZVN0YWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBEcmFnUHV6emUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy50b3VjaFBvcy54ID49IC0zMDAgJiYgdGhpcy50b3VjaFBvcy54IDw9IDMwMCl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS54ID0gY2MubWlzYy5sZXJwKHRoaXMubm9kZS54LCB0aGlzLnRvdWNoUG9zLngsIDAuNyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2MubG9nKFwieCBwb3M6IFwiICsgdGhpcy5ub2RlLngpO1xyXG4gICAgICAgIGlmKHRoaXMudG91Y2hQb3MueSA8PSA1MDAgJiYgdGhpcy50b3VjaFBvcy55ID49IC01MDApe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUueSA9IGNjLm1pc2MubGVycCh0aGlzLm5vZGUueSwgdGhpcy50b3VjaFBvcy55LCAwLjcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2MubG9nKFwieSBwb3M6IFwiICsgdGhpcy5ub2RlLnkpO1xyXG4gICAgICAgIC8vIHRoaXMubm9kZS54ID0gY2MubWlzYy5sZXJwKHRoaXMubm9kZS54LCB0aGlzLnRvdWNoUG9zLngsIDAuNyk7XHJcbiAgICAgICAgLy8gdGhpcy5ub2RlLnkgPSBjYy5taXNjLmxlcnAodGhpcy5ub2RlLnksIHRoaXMudG91Y2hQb3MueSwgMC43KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbiJdfQ==
//------QC-SOURCE-SPLIT------
